<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>IDC ‚Äî Indian Defence Control</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<style>
  :root {
    --bg-dark: #050d14;
    --bg-panel: #071520;
    --bg-card: #0a1e2e;
    --gold: #c8a84b;
    --gold-light: #e2c06a;
    --teal: #00d4aa;
    --teal-dim: #00a882;
    --danger: #ff3b3b;
    --white: #e8edf2;
    --muted: #5a7a8a;
    --border: rgba(200,168,75,0.25);
    --border-teal: rgba(0,212,170,0.2);
    --army-green: #4a6741;
    --navy-blue: #1a3a6b;
    --airforce-blue: #1e4d7b;
  }

  * { margin: 0; padding: 0; box-sizing: border-box; }

  html { scroll-behavior: smooth; }

  body {
    font-family: 'Rajdhani', sans-serif;
    background: var(--bg-dark);
    color: var(--white);
    overflow-x: hidden;
    cursor: default;
  }

  /* ‚îÄ‚îÄ‚îÄ SCANLINE OVERLAY ‚îÄ‚îÄ‚îÄ */
  body::before {
    content: '';
    position: fixed;
    inset: 0;
    background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.03) 2px, rgba(0,0,0,0.03) 4px);
    pointer-events: none;
    z-index: 9999;
  }

  /* ‚îÄ‚îÄ‚îÄ NAVBAR ‚îÄ‚îÄ‚îÄ */
  .navbar {
    position: fixed;
    top: 0; left: 0; right: 0;
    height: 64px;
    background: rgba(5,13,20,0.97);
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 24px;
    z-index: 1000;
    backdrop-filter: blur(12px);
  }

  .nav-left {
    display: flex;
    align-items: center;
    gap: 16px;
  }

  .hamburger {
    width: 36px; height: 36px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    gap: 5px;
    cursor: pointer;
    padding: 4px;
    border-radius: 4px;
    transition: background 0.2s;
  }
  .hamburger:hover { background: rgba(200,168,75,0.1); }
  .hamburger span {
    display: block;
    height: 2px;
    background: var(--gold);
    border-radius: 2px;
    transition: all 0.3s;
  }
  .hamburger.active span:nth-child(1) { transform: translateY(7px) rotate(45deg); }
  .hamburger.active span:nth-child(2) { opacity: 0; }
  .hamburger.active span:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

  .nav-brand {
    display: flex;
    align-items: center;
    gap: 12px;
    text-decoration: none;
    cursor: pointer;
  }

  .flag-icon {
    width: 38px; height: 28px;
    border-radius: 3px;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-shadow: 0 0 8px rgba(200,168,75,0.3);
    flex-shrink: 0;
  }
  .flag-saffron { background: #FF9933; flex: 1; }
  .flag-white { background: #fff; flex: 1; display: flex; align-items: center; justify-content: center; }
  .flag-green { background: #138808; flex: 1; }
  .flag-chakra {
    width: 10px; height: 10px;
    border: 1.5px solid #000080;
    border-radius: 50%;
    position: relative;
  }

  .brand-text { display: flex; flex-direction: column; line-height: 1; }
  .brand-idc {
    font-family: 'Orbitron', monospace;
    font-size: 22px;
    font-weight: 900;
    color: var(--gold);
    letter-spacing: 4px;
  }
  .brand-full {
    font-family: 'Rajdhani', sans-serif;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 3px;
    font-weight: 500;
    text-transform: uppercase;
    margin-top: 2px;
  }

  .nav-right {
    display: flex;
    align-items: center;
    gap: 20px;
  }

  .system-status {
    display: flex;
    align-items: center;
    gap: 8px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    color: var(--teal);
    letter-spacing: 2px;
  }
  .status-dot {
    width: 8px; height: 8px;
    background: var(--teal);
    border-radius: 50%;
    animation: pulse 2s infinite;
  }
  @keyframes pulse {
    0%, 100% { opacity: 1; box-shadow: 0 0 6px var(--teal); }
    50% { opacity: 0.4; box-shadow: none; }
  }

  .btn-login {
    font-family: 'Orbitron', monospace;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 3px;
    color: var(--gold);
    background: transparent;
    border: 1.5px solid var(--gold);
    padding: 8px 20px;
    cursor: pointer;
    transition: all 0.25s;
    text-transform: uppercase;
    clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
  }
  .btn-login:hover {
    background: var(--gold);
    color: var(--bg-dark);
  }

  /* ‚îÄ‚îÄ‚îÄ SIDE TRAY ‚îÄ‚îÄ‚îÄ */
  .tray-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.6);
    z-index: 900;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s;
    backdrop-filter: blur(4px);
  }
  .tray-overlay.active { opacity: 1; pointer-events: all; }

  .side-tray {
    position: fixed;
    top: 0; left: -340px;
    width: 340px;
    height: 100vh;
    background: #060f18;
    border-right: 1px solid var(--border);
    z-index: 950;
    transition: left 0.35s cubic-bezier(0.25, 0.46, 0.45, 0.94);
    display: flex;
    flex-direction: column;
    overflow-y: auto;
  }
  .side-tray.open { left: 0; }

  .tray-header {
    padding: 20px 24px 16px;
    border-bottom: 1px solid var(--border);
    display: flex;
    align-items: center;
    justify-content: space-between;
    flex-shrink: 0;
    margin-top: 64px;
  }
  .tray-title {
    font-family: 'Orbitron', monospace;
    font-size: 11px;
    color: var(--gold);
    letter-spacing: 3px;
  }
  .tray-close {
    font-size: 18px;
    color: var(--muted);
    cursor: pointer;
    background: none;
    border: none;
    line-height: 1;
    transition: color 0.2s;
  }
  .tray-close:hover { color: var(--gold); }

  .tray-section { padding: 16px 0; border-bottom: 1px solid rgba(200,168,75,0.1); }
  .tray-section-label {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 3px;
    padding: 0 24px 10px;
    text-transform: uppercase;
  }

  .tray-link {
    display: flex;
    align-items: center;
    gap: 14px;
    padding: 11px 24px;
    color: #a0b8c8;
    text-decoration: none;
    font-size: 14px;
    font-weight: 500;
    letter-spacing: 1px;
    cursor: pointer;
    transition: all 0.2s;
    border-left: 3px solid transparent;
  }
  .tray-link:hover {
    color: var(--gold-light);
    background: rgba(200,168,75,0.06);
    border-left-color: var(--gold);
  }
  .tray-link .tray-icon {
    font-size: 16px;
    width: 20px;
    text-align: center;
    flex-shrink: 0;
  }
  .tray-badge {
    margin-left: auto;
    background: rgba(255,59,59,0.15);
    color: #ff3b3b;
    border: 1px solid rgba(255,59,59,0.3);
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px;
    padding: 2px 7px;
    border-radius: 2px;
    letter-spacing: 1px;
  }
  .tray-badge.green {
    background: rgba(0,212,170,0.1);
    color: var(--teal);
    border-color: rgba(0,212,170,0.25);
  }

  /* ‚îÄ‚îÄ‚îÄ HERO SECTION ‚îÄ‚îÄ‚îÄ */
  .hero {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 120px 40px 60px;
    position: relative;
    background:
      radial-gradient(ellipse 80% 60% at 50% 40%, rgba(0,50,80,0.4) 0%, transparent 70%),
      radial-gradient(ellipse 40% 30% at 20% 80%, rgba(200,168,75,0.06) 0%, transparent 60%),
      linear-gradient(180deg, var(--bg-dark) 0%, #040c14 100%);
    text-align: center;
  }

  .hero::before {
    content: '';
    position: absolute;
    inset: 0;
    background:
      repeating-linear-gradient(90deg, transparent, transparent 99px, rgba(0,212,170,0.03) 99px, rgba(0,212,170,0.03) 100px),
      repeating-linear-gradient(0deg, transparent, transparent 99px, rgba(0,212,170,0.03) 99px, rgba(0,212,170,0.03) 100px);
    pointer-events: none;
  }

  .hero-eyebrow {
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    color: var(--teal);
    letter-spacing: 5px;
    margin-bottom: 20px;
    opacity: 0;
    animation: fadeUp 0.6s 0.3s forwards;
  }

  .hero-title {
    font-family: 'Orbitron', monospace;
    font-size: clamp(42px, 8vw, 90px);
    font-weight: 900;
    line-height: 1.05;
    letter-spacing: 4px;
    margin-bottom: 20px;
    opacity: 0;
    animation: fadeUp 0.7s 0.5s forwards;
  }
  .hero-title .white { color: var(--white); }
  .hero-title .gold { color: var(--gold); }

  .hero-tagline {
    font-family: 'Share Tech Mono', monospace;
    font-size: 13px;
    color: var(--muted);
    letter-spacing: 6px;
    margin-bottom: 50px;
    opacity: 0;
    animation: fadeUp 0.7s 0.7s forwards;
  }
  .hero-tagline span { color: var(--gold); opacity: 0.7; }

  .hero-stats {
    display: flex;
    gap: 40px;
    justify-content: center;
    flex-wrap: wrap;
    margin-bottom: 60px;
    opacity: 0;
    animation: fadeUp 0.7s 0.9s forwards;
  }

  .stat-card {
    text-align: center;
    min-width: 120px;
    padding: 20px 24px;
    border: 1px solid var(--border);
    background: rgba(10,30,46,0.6);
    backdrop-filter: blur(8px);
    position: relative;
    clip-path: polygon(10px 0%, 100% 0%, calc(100% - 10px) 100%, 0% 100%);
  }
  .stat-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--gold), transparent);
  }
  .stat-number {
    font-family: 'Orbitron', monospace;
    font-size: 28px;
    font-weight: 900;
    color: var(--gold);
    display: block;
  }
  .stat-label {
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 3px;
    font-weight: 600;
    margin-top: 6px;
    display: block;
    text-transform: uppercase;
  }

  /* ‚îÄ‚îÄ‚îÄ QUICK ACCESS TOOLBAR ‚îÄ‚îÄ‚îÄ */
  .quick-access {
    width: 100%;
    max-width: 900px;
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0;
    border: 1px solid var(--border);
    overflow: hidden;
    opacity: 0;
    animation: fadeUp 0.7s 1.1s forwards;
    margin-bottom: 60px;
  }

  .qa-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    padding: 18px 12px;
    cursor: pointer;
    transition: all 0.25s;
    border-right: 1px solid var(--border);
    background: rgba(7,21,32,0.8);
    text-decoration: none;
    color: inherit;
  }
  .qa-item:last-child { border-right: none; }
  .qa-item:hover {
    background: rgba(200,168,75,0.08);
  }
  .qa-item:hover .qa-icon { color: var(--gold); }
  .qa-icon {
    font-size: 22px;
    transition: color 0.25s;
    color: var(--teal);
  }
  .qa-label {
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px;
    letter-spacing: 2px;
    color: var(--muted);
    text-align: center;
    text-transform: uppercase;
    line-height: 1.4;
  }

  /* ‚îÄ‚îÄ‚îÄ SECTION HEADER ‚îÄ‚îÄ‚îÄ */
  .section-header {
    display: flex;
    align-items: center;
    gap: 16px;
    margin-bottom: 32px;
  }
  .section-header::before {
    content: '//';
    font-family: 'Share Tech Mono', monospace;
    color: var(--teal);
    font-size: 16px;
  }
  .section-title {
    font-family: 'Orbitron', monospace;
    font-size: 13px;
    font-weight: 700;
    letter-spacing: 5px;
    color: var(--gold);
    text-transform: uppercase;
  }
  .section-line {
    flex: 1;
    height: 1px;
    background: linear-gradient(90deg, var(--border), transparent);
  }

  /* ‚îÄ‚îÄ‚îÄ DEFENCE WINGS ‚îÄ‚îÄ‚îÄ */
  .wings-section {
    padding: 60px 40px;
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
  }

  .wings-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 20px;
  }

  .wing-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    overflow: hidden;
    position: relative;
    cursor: pointer;
    transition: all 0.3s;
    clip-path: polygon(0 0, calc(100% - 16px) 0, 100% 16px, 100% 100%, 0 100%);
  }
  .wing-card:hover {
    border-color: var(--gold);
    transform: translateY(-4px);
    box-shadow: 0 20px 40px rgba(0,0,0,0.4), 0 0 20px rgba(200,168,75,0.1);
  }

  .wing-card-header {
    height: 180px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 12px;
    position: relative;
    overflow: hidden;
  }

  .wing-card:nth-child(1) .wing-card-header {
    background: linear-gradient(135deg, #1a2e14 0%, #0d1a0a 100%);
    border-bottom: 2px solid #4a6741;
  }
  .wing-card:nth-child(2) .wing-card-header {
    background: linear-gradient(135deg, #0d1e3a 0%, #060e20 100%);
    border-bottom: 2px solid #1a3a6b;
  }
  .wing-card:nth-child(3) .wing-card-header {
    background: linear-gradient(135deg, #0e1e30 0%, #060e1c 100%);
    border-bottom: 2px solid #1a4a80;
  }

  .wing-emblem {
    width: 80px; height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 42px;
    position: relative;
    z-index: 1;
  }
  .wing-card:nth-child(1) .wing-emblem {
    background: radial-gradient(circle, rgba(74,103,65,0.4), rgba(26,46,20,0.8));
    box-shadow: 0 0 24px rgba(74,103,65,0.4);
    border: 2px solid rgba(74,103,65,0.6);
  }
  .wing-card:nth-child(2) .wing-emblem {
    background: radial-gradient(circle, rgba(26,58,107,0.5), rgba(6,14,32,0.8));
    box-shadow: 0 0 24px rgba(26,58,107,0.5);
    border: 2px solid rgba(26,58,107,0.7);
  }
  .wing-card:nth-child(3) .wing-emblem {
    background: radial-gradient(circle, rgba(30,77,123,0.4), rgba(6,14,28,0.8));
    box-shadow: 0 0 24px rgba(30,77,123,0.4);
    border: 2px solid rgba(30,77,123,0.6);
  }

  .wing-code {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    letter-spacing: 3px;
    opacity: 0.6;
    color: var(--muted);
  }

  .wing-card-body {
    padding: 20px;
  }

  .wing-name {
    font-family: 'Orbitron', monospace;
    font-size: 14px;
    font-weight: 700;
    color: var(--white);
    letter-spacing: 2px;
    margin-bottom: 8px;
  }
  .wing-card:nth-child(1) .wing-name { color: #7dbb72; }
  .wing-card:nth-child(2) .wing-name { color: #6090d0; }
  .wing-card:nth-child(3) .wing-name { color: #5aaaee; }

  .wing-desc {
    font-size: 13px;
    color: #7a9aaa;
    line-height: 1.6;
    margin-bottom: 16px;
  }

  .wing-stats-mini {
    display: flex;
    gap: 12px;
    margin-bottom: 16px;
  }
  .wing-stat-mini {
    text-align: center;
    flex: 1;
    background: rgba(0,0,0,0.3);
    padding: 8px 4px;
    border-radius: 2px;
    border: 1px solid rgba(200,168,75,0.1);
  }
  .wing-stat-mini-num {
    font-family: 'Orbitron', monospace;
    font-size: 14px;
    color: var(--gold);
    display: block;
  }
  .wing-stat-mini-lbl {
    font-size: 9px;
    color: var(--muted);
    letter-spacing: 1px;
    display: block;
    margin-top: 3px;
  }

  .wing-learn-more {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    letter-spacing: 2px;
    text-decoration: none;
    cursor: pointer;
    transition: gap 0.2s;
    border-bottom: 1px solid;
    padding-bottom: 2px;
  }
  .wing-card:nth-child(1) .wing-learn-more { color: #7dbb72; border-color: rgba(125,187,114,0.4); }
  .wing-card:nth-child(2) .wing-learn-more { color: #6090d0; border-color: rgba(96,144,208,0.4); }
  .wing-card:nth-child(3) .wing-learn-more { color: #5aaaee; border-color: rgba(90,170,238,0.4); }
  .wing-learn-more:hover { gap: 14px; }

  /* ‚îÄ‚îÄ‚îÄ LOGIN PANEL ‚îÄ‚îÄ‚îÄ */
  .login-overlay {
    position: fixed;
    inset: 0;
    background: rgba(2,8,14,0.85);
    z-index: 1100;
    display: none;
    align-items: flex-start;
    justify-content: flex-end;
    padding: 64px 0 0;
    backdrop-filter: blur(6px);
  }
  .login-overlay.active { display: flex; }

  .login-left {
    flex: 1;
    padding: 60px 60px;
    display: flex;
    flex-direction: column;
    justify-content: center;
    max-width: 500px;
  }

  .login-eyebrow {
    display: flex;
    align-items: center;
    gap: 10px;
    margin-bottom: 24px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    color: var(--teal);
    letter-spacing: 3px;
  }
  .login-eye-icon { font-size: 14px; }

  .login-left-title {
    font-family: 'Orbitron', monospace;
    font-size: clamp(32px, 5vw, 52px);
    font-weight: 900;
    line-height: 1.1;
    letter-spacing: 2px;
    margin-bottom: 24px;
    color: var(--white);
  }
  .login-left-title .gold { color: var(--gold); }

  .login-left-desc {
    font-size: 14px;
    color: #7a9aaa;
    line-height: 1.7;
    margin-bottom: 28px;
    max-width: 380px;
  }

  .login-features {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 10px;
  }
  .login-features li {
    display: flex;
    align-items: center;
    gap: 10px;
    font-size: 13px;
    color: #8aaabb;
  }
  .login-features li::before {
    content: '‚óè';
    color: var(--teal);
    font-size: 8px;
    flex-shrink: 0;
  }

  .login-panel {
    width: 440px;
    min-height: calc(100vh - 64px);
    background: #060f18;
    border-left: 1px solid var(--border);
    padding: 40px 36px;
    display: flex;
    flex-direction: column;
    gap: 20px;
    overflow-y: auto;
    animation: slideInRight 0.35s ease;
  }

  @keyframes slideInRight {
    from { transform: translateX(40px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
  }

  .login-title {
    font-family: 'Orbitron', monospace;
    font-size: 22px;
    font-weight: 700;
    color: var(--white);
    letter-spacing: 3px;
  }
  .login-subtitle {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 3px;
    margin-top: 6px;
  }

  .role-tabs {
    display: flex;
    border: 1px solid var(--border);
    overflow: hidden;
    clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
  }
  .role-tab {
    flex: 1;
    padding: 12px;
    text-align: center;
    font-family: 'Share Tech Mono', monospace;
    font-size: 12px;
    letter-spacing: 2px;
    cursor: pointer;
    background: transparent;
    border: none;
    color: var(--muted);
    transition: all 0.25s;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
  }
  .role-tab.active {
    background: var(--gold);
    color: var(--bg-dark);
    font-weight: 700;
  }
  .role-tab:not(.active):hover {
    background: rgba(200,168,75,0.08);
    color: var(--gold);
  }

  .login-field-group { display: flex; flex-direction: column; gap: 6px; }
  .login-label {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 3px;
    text-transform: uppercase;
  }
  .login-input {
    background: rgba(10,30,46,0.8);
    border: 1px solid var(--border);
    color: var(--white);
    padding: 13px 16px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 13px;
    outline: none;
    transition: border-color 0.2s;
    width: 100%;
    clip-path: polygon(4px 0%, 100% 0%, calc(100% - 4px) 100%, 0% 100%);
  }
  .login-input:focus { border-color: var(--gold); background: rgba(10,30,46,1); }
  .login-input::placeholder { color: var(--muted); opacity: 0.7; font-size: 12px; }

  .captcha-row {
    display: flex;
    gap: 10px;
    align-items: center;
  }
  .captcha-display {
    background: rgba(5,13,20,0.9);
    border: 1px solid rgba(200,168,75,0.3);
    padding: 11px 18px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 18px;
    letter-spacing: 6px;
    color: var(--gold);
    text-decoration: line-through;
    flex-shrink: 0;
    user-select: none;
    filter: blur(0.3px);
  }
  .captcha-refresh {
    background: none;
    border: 1px solid var(--border);
    color: var(--muted);
    width: 38px; height: 38px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.2s;
    flex-shrink: 0;
  }
  .captcha-refresh:hover { color: var(--gold); border-color: var(--gold); }
  .captcha-input {
    flex: 1;
    background: rgba(10,30,46,0.8);
    border: 1px solid var(--border);
    color: var(--white);
    padding: 10px 14px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 13px;
    outline: none;
    transition: border-color 0.2s;
  }
  .captcha-input:focus { border-color: var(--gold); }
  .captcha-input::placeholder { color: var(--muted); font-size: 11px; }

  .btn-otp {
    width: 100%;
    padding: 15px;
    background: var(--gold);
    color: var(--bg-dark);
    border: none;
    font-family: 'Orbitron', monospace;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 3px;
    cursor: pointer;
    transition: all 0.25s;
    clip-path: polygon(8px 0%, 100% 0%, calc(100% - 8px) 100%, 0% 100%);
    text-transform: uppercase;
  }
  .btn-otp:hover {
    background: var(--gold-light);
    box-shadow: 0 0 20px rgba(200,168,75,0.3);
  }

  .login-warning {
    background: rgba(255,59,59,0.08);
    border: 1px solid rgba(255,59,59,0.25);
    padding: 12px 14px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: #ff6b6b;
    letter-spacing: 1px;
    line-height: 1.6;
  }
  .login-warning strong { color: var(--danger); }

  .login-close {
    position: absolute;
    top: 80px;
    right: 460px;
    background: rgba(5,13,20,0.9);
    border: 1px solid var(--border);
    color: var(--muted);
    width: 36px; height: 36px;
    cursor: pointer;
    font-size: 16px;
    transition: all 0.2s;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .login-close:hover { color: var(--danger); border-color: var(--danger); }

  /* ‚îÄ‚îÄ‚îÄ WING DETAIL PAGE ‚îÄ‚îÄ‚îÄ */
  .page {
    display: none;
    min-height: 100vh;
    padding: 100px 40px 60px;
    max-width: 1200px;
    margin: 0 auto;
    animation: fadeUp 0.4s ease;
  }
  .page.active { display: block; }

  @keyframes fadeUp {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .wing-detail-header {
    display: flex;
    align-items: center;
    gap: 28px;
    margin-bottom: 40px;
    padding-bottom: 32px;
    border-bottom: 1px solid var(--border);
  }

  .wing-detail-emblem {
    width: 100px; height: 100px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 54px;
    flex-shrink: 0;
  }

  .wing-detail-info {}
  .wing-detail-code {
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    letter-spacing: 4px;
    margin-bottom: 8px;
  }
  .wing-detail-name {
    font-family: 'Orbitron', monospace;
    font-size: 32px;
    font-weight: 900;
    letter-spacing: 3px;
  }
  .wing-detail-motto {
    font-family: 'Share Tech Mono', monospace;
    font-size: 13px;
    color: var(--muted);
    letter-spacing: 3px;
    margin-top: 8px;
    font-style: italic;
  }

  .wing-detail-back {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    letter-spacing: 2px;
    color: var(--teal);
    cursor: pointer;
    border: 1px solid var(--border-teal);
    padding: 9px 16px;
    background: none;
    transition: all 0.2s;
    margin-bottom: 32px;
  }
  .wing-detail-back:hover { background: rgba(0,212,170,0.06); color: var(--teal); }

  .wing-detail-content {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 32px;
  }

  .content-block { margin-bottom: 28px; }
  .content-block h3 {
    font-family: 'Orbitron', monospace;
    font-size: 12px;
    letter-spacing: 4px;
    color: var(--gold);
    margin-bottom: 14px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
  }
  .content-block p {
    font-size: 14px;
    color: #8aaabb;
    line-height: 1.8;
  }

  .detail-stats-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 24px;
  }
  .detail-stat {
    background: var(--bg-card);
    border: 1px solid var(--border);
    padding: 16px;
    text-align: center;
  }
  .detail-stat-num {
    font-family: 'Orbitron', monospace;
    font-size: 20px;
    color: var(--gold);
    display: block;
  }
  .detail-stat-lbl {
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
    display: block;
    margin-top: 4px;
  }

  /* ‚îÄ‚îÄ‚îÄ FEATURE PAGES ‚îÄ‚îÄ‚îÄ */
  .feature-page {
    display: none;
    min-height: 100vh;
    padding: 100px 40px 60px;
    animation: fadeUp 0.4s ease;
  }
  .feature-page.active { display: block; }

  .feature-page-inner {
    max-width: 1100px;
    margin: 0 auto;
  }

  .fp-header {
    display: flex;
    align-items: flex-start;
    gap: 20px;
    margin-bottom: 40px;
    padding-bottom: 28px;
    border-bottom: 1px solid var(--border);
  }
  .fp-icon {
    width: 64px; height: 64px;
    border: 1px solid var(--border);
    background: rgba(10,30,46,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 30px;
    flex-shrink: 0;
    clip-path: polygon(8px 0, 100% 0, calc(100% - 8px) 100%, 0 100%);
  }
  .fp-title {
    font-family: 'Orbitron', monospace;
    font-size: 24px;
    font-weight: 700;
    letter-spacing: 3px;
    color: var(--white);
  }
  .fp-subtitle {
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    color: var(--muted);
    letter-spacing: 3px;
    margin-top: 8px;
  }

  .fp-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    margin-bottom: 32px;
  }
  .fp-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    padding: 20px;
    position: relative;
  }
  .fp-card::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--teal), transparent);
  }
  .fp-card h4 {
    font-family: 'Orbitron', monospace;
    font-size: 11px;
    letter-spacing: 2px;
    color: var(--gold);
    margin-bottom: 10px;
  }
  .fp-card p {
    font-size: 13px;
    color: #7a9aaa;
    line-height: 1.6;
  }

  .fp-coming-soon {
    text-align: center;
    padding: 60px 20px;
    border: 1px dashed rgba(200,168,75,0.2);
    background: rgba(200,168,75,0.02);
    margin-top: 32px;
  }
  .fp-coming-soon h3 {
    font-family: 'Orbitron', monospace;
    font-size: 14px;
    letter-spacing: 4px;
    color: var(--gold);
    opacity: 0.6;
    margin-bottom: 12px;
  }
  .fp-coming-soon p {
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    color: var(--muted);
    letter-spacing: 2px;
  }

  /* ‚îÄ‚îÄ‚îÄ HOMEPAGE MAIN ‚îÄ‚îÄ‚îÄ */
  #home { display: block; }

  /* ‚îÄ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ */
  .footer {
    border-top: 1px solid var(--border);
    padding: 24px 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: rgba(5,13,20,0.95);
  }
  .footer-left {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
  }
  .footer-right {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
  }
  .footer-right span { color: var(--gold); }

  /* ‚îÄ‚îÄ‚îÄ UTILITY ‚îÄ‚îÄ‚îÄ */
  .hidden { display: none !important; }

  @media (max-width: 900px) {
    .wings-grid { grid-template-columns: 1fr; }
    .hero-stats { gap: 20px; }
    .quick-access { grid-template-columns: repeat(3, 1fr); }
    .wing-detail-content { grid-template-columns: 1fr; }
    .fp-grid { grid-template-columns: 1fr 1fr; }
    .login-left { display: none; }
    .login-panel { width: 100%; min-height: 100%; }
    .login-close { right: 16px; }
  }

  /* ‚îÄ‚îÄ‚îÄ PERSONNEL TABLE ‚îÄ‚îÄ‚îÄ */
  .pr-th {
    padding: 11px 14px;
    text-align: left;
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: var(--gold);
    letter-spacing: 2px;
    white-space: nowrap;
    cursor: pointer;
    user-select: none;
    border-right: 1px solid rgba(200,168,75,0.08);
  }
  .pr-th:last-child { border-right: none; }
  .pr-td {
    padding: 9px 14px;
    font-family: 'Rajdhani', sans-serif;
    font-size: 13px;
    color: #a0b8c8;
    border-bottom: 1px solid rgba(200,168,75,0.06);
    border-right: 1px solid rgba(200,168,75,0.04);
    white-space: nowrap;
  }
  .pr-td:last-child { border-right: none; }
  .pr-row:hover td { background: rgba(200,168,75,0.04); }
  .pr-row:nth-child(even) td { background: rgba(0,0,0,0.15); }
  .pr-row:nth-child(even):hover td { background: rgba(200,168,75,0.05); }
  .badge {
    display: inline-block;
    padding: 2px 10px;
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    letter-spacing: 1px;
    border-radius: 2px;
    font-weight: 700;
  }
  .badge-low { background: rgba(0,212,170,0.12); color: #00d4aa; border: 1px solid rgba(0,212,170,0.25); }
  .badge-medium { background: rgba(255,193,7,0.12); color: #ffc107; border: 1px solid rgba(255,193,7,0.25); }
  .badge-high { background: rgba(255,59,59,0.12); color: #ff3b3b; border: 1px solid rgba(255,59,59,0.25); }
  .badge-active { background: rgba(0,212,170,0.08); color: #00d4aa; border: 1px solid rgba(0,212,170,0.2); }
  .badge-reserve { background: rgba(200,168,75,0.08); color: var(--gold); border: 1px solid rgba(200,168,75,0.2); }
  .badge-training { background: rgba(90,120,170,0.1); color: #7aaabb; border: 1px solid rgba(90,120,170,0.2); }
  .badge-army { background: rgba(74,103,65,0.15); color: #7dbb72; border: 1px solid rgba(74,103,65,0.3); }
  .badge-navy { background: rgba(26,58,107,0.2); color: #6090d0; border: 1px solid rgba(26,58,107,0.4); }
  .badge-iaf { background: rgba(30,77,123,0.15); color: #5aaaee; border: 1px solid rgba(30,77,123,0.35); }
  .pr-pg-btn {
    padding: 6px 12px;
    background: transparent;
    border: 1px solid var(--border);
    color: var(--muted);
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    cursor: pointer;
    transition: all 0.2s;
    min-width: 34px;
  }
  .pr-pg-btn:hover, .pr-pg-btn.active { background: rgba(200,168,75,0.1); color: var(--gold); border-color: var(--gold); }
  .pr-pg-btn.active { font-weight: 700; }

  /* ‚îÄ‚îÄ‚îÄ REPORT SUMMARY ‚îÄ‚îÄ‚îÄ */
  .rs-sample-btn {
    width: 100%;
    padding: 10px 14px;
    background: rgba(10,30,46,0.7);
    border: 1px solid var(--border);
    color: #7aaabb;
    font-family: 'Share Tech Mono', monospace;
    font-size: 11px;
    letter-spacing: 1px;
    text-align: left;
    cursor: pointer;
    transition: all 0.2s;
  }
  .rs-sample-btn:hover { background: rgba(200,168,75,0.07); color: var(--gold); border-color: var(--gold); }
  .rs-section {
    background: var(--bg-card);
    border: 1px solid var(--border);
    padding: 18px;
    position: relative;
  }
  .rs-section::before {
    content: '';
    position: absolute;
    top: 0; left: 0; right: 0;
    height: 2px;
    background: linear-gradient(90deg, var(--teal), transparent);
  }
  .rs-section-risk::before { background: linear-gradient(90deg, #ff3b3b, transparent); }
  .rs-section-title {
    font-family: 'Orbitron', monospace;
    font-size: 11px;
    font-weight: 700;
    letter-spacing: 3px;
    color: var(--teal);
    margin-bottom: 12px;
    padding-bottom: 8px;
    border-bottom: 1px solid rgba(0,212,170,0.15);
  }
  .rs-section-body {
    font-size: 13px;
    color: #8aaabb;
    line-height: 1.7;
  }
  .rs-section-body li {
    list-style: none;
    padding: 4px 0;
    padding-left: 16px;
    position: relative;
  }
  .rs-section-body li::before { content: '‚ñ∏'; position: absolute; left: 0; color: var(--teal); }

  /* ‚îÄ‚îÄ‚îÄ THREAT INTEL ‚îÄ‚îÄ‚îÄ */
  .ti-stat-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    padding: 16px;
    text-align: center;
  }
  .ti-stat-num {
    font-family: 'Orbitron', monospace;
    font-size: 26px;
    font-weight: 900;
    color: var(--gold);
  }
  .ti-stat-lbl {
    font-family: 'Share Tech Mono', monospace;
    font-size: 9px;
    color: var(--muted);
    letter-spacing: 2px;
    margin-top: 5px;
  }

  /* ‚îÄ‚îÄ‚îÄ LOGISTICS ‚îÄ‚îÄ‚îÄ */
  .logi-section {
    background: var(--bg-card);
    border: 1px solid var(--border);
    overflow: hidden;
  }
  .logi-section-header {
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 16px 20px;
    border-bottom: 1px solid var(--border);
    background: rgba(200,168,75,0.04);
    flex-wrap: wrap;
  }
  .logi-section-num {
    font-family: 'Orbitron', monospace;
    font-size: 28px;
    font-weight: 900;
    color: rgba(200,168,75,0.2);
    line-height: 1;
  }
  .logi-section-title {
    font-family: 'Orbitron', monospace;
    font-size: 13px;
    font-weight: 700;
    letter-spacing: 3px;
    color: var(--gold);
  }
  .logi-section-sub {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
    margin-top: 4px;
  }
  .logi-kpi {
    background: rgba(10,30,46,0.8);
    border: 1px solid var(--border);
    padding: 10px 16px;
    text-align: center;
    min-width: 70px;
  }
  .logi-kpi-num { font-family: 'Orbitron', monospace; font-size: 20px; font-weight: 900; }
  .logi-kpi-lbl { font-family: 'Share Tech Mono', monospace; font-size: 9px; color: var(--muted); letter-spacing: 2px; margin-top: 3px; }
  .sev-bar {
    display: flex;
    align-items: center;
    gap: 8px;
  }
  .sev-track {
    flex: 1;
    height: 6px;
    background: rgba(0,0,0,0.4);
    border-radius: 2px;
    overflow: hidden;
    min-width: 60px;
  }
  .sev-fill { height: 100%; border-radius: 2px; }

  /* ‚îÄ‚îÄ‚îÄ NIYAMA MITRA ‚îÄ‚îÄ‚îÄ */
  .nm-viol-card {
    background: rgba(255,59,59,0.04);
    border: 1px solid rgba(255,59,59,0.2);
    border-left: 4px solid;
    padding: 18px 20px;
    margin-bottom: 12px;
    position: relative;
  }
  .nm-viol-title {
    font-family: 'Orbitron', monospace;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 2px;
    margin-bottom: 6px;
  }
  .nm-viol-article {
    font-family: 'Share Tech Mono', monospace;
    font-size: 10px;
    color: var(--muted);
    letter-spacing: 2px;
    margin-bottom: 10px;
  }
  .nm-viol-explanation {
    font-size: 13px;
    color: #8aaabb;
    line-height: 1.6;
    margin-bottom: 10px;
  }
  .nm-viol-footer {
    display: flex;
    gap: 10px;
    align-items: center;
    flex-wrap: wrap;
  }
  .nm-rec-item {
    display: flex;
    align-items: flex-start;
    gap: 12px;
    background: rgba(0,0,0,0.2);
    border: 1px solid rgba(255,193,7,0.1);
    padding: 10px 14px;
    font-size: 13px;
    color: #8aaabb;
    line-height: 1.5;
  }
  .nm-rec-icon { color: #ffc107; font-size: 14px; flex-shrink: 0; margin-top: 1px; }
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê NAVBAR ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<nav class="navbar">
  <div class="nav-left">
    <div class="hamburger" id="hamburger" onclick="toggleTray()">
      <span></span><span></span><span></span>
    </div>
    <div class="nav-brand" onclick="showPage('home')">
      <div class="flag-icon">
        <div class="flag-saffron"></div>
        <div class="flag-white"><div class="flag-chakra"></div></div>
        <div class="flag-green"></div>
      </div>
      <div class="brand-text">
        <span class="brand-idc">IDC</span>
        <span class="brand-full">Indian Defence Control</span>
      </div>
    </div>
  </div>
  <div class="nav-right">
    <div class="system-status">
      <div class="status-dot"></div>
      SYSTEMS ONLINE
    </div>
    <button class="btn-login" onclick="toggleLogin()">LOGIN</button>
  </div>
</nav>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SIDE TRAY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="tray-overlay" id="trayOverlay" onclick="closeTray()"></div>
<div class="side-tray" id="sideTray">
  <div class="tray-header">
    <span class="tray-title">NAVIGATION</span>
    <button class="tray-close" onclick="closeTray()">‚úï</button>
  </div>

  <div class="tray-section">
    <div class="tray-section-label">Quick Links</div>
    <a class="tray-link" onclick="showPage('home'); closeTray()"><span class="tray-icon">üè†</span> Home</a>
    <a class="tray-link" onclick="showPage('wing-army'); closeTray()"><span class="tray-icon">ü™ñ</span> Indian Army</a>
    <a class="tray-link" onclick="showPage('wing-navy'); closeTray()"><span class="tray-icon">‚öì</span> Indian Navy</a>
    <a class="tray-link" onclick="showPage('wing-airforce'); closeTray()"><span class="tray-icon">‚úàÔ∏è</span> Indian Air Force</a>
  </div>

  <div class="tray-section">
    <div class="tray-section-label">AI Modules</div>
    <a class="tray-link" onclick="showPage('fp-personnel'); closeTray()"><span class="tray-icon">üë•</span> Personnel Registry <span class="tray-badge green">LIVE</span></a>
    <a class="tray-link" onclick="showPage('fp-report'); closeTray()"><span class="tray-icon">üìã</span> Report AI Summary <span class="tray-badge green">LIVE</span></a>
    <a class="tray-link" onclick="showPage('fp-threat'); closeTray()"><span class="tray-icon">üéØ</span> Threat Intelligence <span class="tray-badge">RESTRICTED</span></a>
    <a class="tray-link" onclick="showPage('fp-logistics'); closeTray()"><span class="tray-icon">üì¶</span> Logistics Optimizer <span class="tray-badge green">LIVE</span></a>
    <a class="tray-link" onclick="showPage('fp-niyama'); closeTray()"><span class="tray-icon">‚öñÔ∏è</span> Niyama Mitra <span class="tray-badge green">LIVE</span></a>
  </div>

  <div class="tray-section">
    <div class="tray-section-label">Defence Data</div>
    <a class="tray-link" onclick="showPage('fp-about'); closeTray()"><span class="tray-icon">‚ÑπÔ∏è</span> About Defence Wings</a>
    <a class="tray-link" onclick="closeTray()"><span class="tray-icon">üèÖ</span> Rank Structure</a>
    <a class="tray-link" onclick="closeTray()"><span class="tray-icon">üó∫Ô∏è</span> Active Deployments</a>
    <a class="tray-link" onclick="closeTray()"><span class="tray-icon">üìä</span> Mission Logs</a>
  </div>

  <div class="tray-section">
    <div class="tray-section-label">System</div>
    <a class="tray-link" onclick="closeTray()"><span class="tray-icon">üîê</span> Access Logs</a>
    <a class="tray-link" onclick="closeTray()"><span class="tray-icon">‚öôÔ∏è</span> System Settings</a>
    <a class="tray-link" onclick="closeTray()"><span class="tray-icon">üì°</span> Signal Monitor</a>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê LOGIN PANEL ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="login-overlay" id="loginOverlay">
  <div class="login-left">
    <div class="login-eyebrow">
      <span class="login-eye-icon">üîí</span>
      RESTRICTED ACCESS PORTAL
    </div>
    <div class="login-left-title">
      INDIA<br><span class="gold">DEFENCE</span><br>CONTROL
    </div>
    <p class="login-left-desc">
      Secure access to IDC is granted solely to authorized Indian Defence personnel. All sessions are monitored, logged, and subject to national security protocols under the Official Secrets Act.
    </p>
    <ul class="login-features">
      <li>AES-256 Encrypted Session</li>
      <li>Two-Factor OTP Authentication</li>
      <li>Role-Based Access Control (RBAC)</li>
      <li>Activity Audit & Anomaly Detection</li>
      <li>Biometric verification at physical terminals</li>
    </ul>
  </div>

  <div class="login-panel">
    <div>
      <div class="login-title">SECURE LOGIN</div>
      <div class="login-subtitle">// AUTHENTICATED ACCESS ONLY ‚Äî AUTHORIZED PERSONNEL</div>
    </div>

    <div class="role-tabs">
      <button class="role-tab" id="tabAuthority" onclick="setRole('authority')">‚òÖ AUTHORITY</button>
      <button class="role-tab active" id="tabSoldier" onclick="setRole('soldier')">üéñ SOLDIER</button>
    </div>

    <div class="login-field-group">
      <label class="login-label">Service Number</label>
      <input class="login-input" type="text" placeholder="Enter your Service Number" id="serviceNum">
    </div>

    <div class="login-field-group">
      <label class="login-label">Password</label>
      <input class="login-input" type="password" placeholder="Enter your password" id="password">
    </div>

    <div class="login-field-group">
      <label class="login-label">Captcha Verification</label>
      <div class="captcha-row">
        <div class="captcha-display" id="captchaDisplay">6URP70</div>
        <button class="captcha-refresh" onclick="refreshCaptcha()" title="Refresh">‚Üª</button>
        <input class="captcha-input" type="text" placeholder="Enter captcha" id="captchaInput">
      </div>
    </div>

    <button class="btn-otp" onclick="handleLogin()">REQUEST OTP & LOGIN</button>

    <div class="login-warning">
      <strong>‚ö† UNAUTHORIZED ACCESS IS A CRIMINAL OFFENCE</strong><br>
      Under IPC Sec. 66 & Official Secrets Act. All access attempts are logged, geo-tagged and monitored by CERT-In.
    </div>
  </div>

  <button class="login-close" onclick="toggleLogin()">‚úï</button>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê HOME PAGE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="home">

  <!-- HERO -->
  <section class="hero">
    <div class="hero-eyebrow">// CLASSIFIED SYSTEM ‚Äî AUTHORIZED ACCESS ONLY</div>
    <h1 class="hero-title">
      <span class="white">INDIAN </span><span class="gold">DEFENCE</span><br>
      <span class="white">CONTROL</span>
    </h1>
    <div class="hero-tagline">STRENGTH <span>¬∑</span> INTEGRITY <span>¬∑</span> VIGILANCE</div>

    <div class="hero-stats">
      <div class="stat-card">
        <span class="stat-number">14.5L+</span>
        <span class="stat-label">Active Personnel</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">3</span>
        <span class="stat-label">Defence Wings</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">5</span>
        <span class="stat-label">AI Modules</span>
      </div>
      <div class="stat-card">
        <span class="stat-number">4TH</span>
        <span class="stat-label">World Ranking</span>
      </div>
    </div>

    <div class="quick-access">
      <a class="qa-item" onclick="showPage('fp-personnel')">
        <span class="qa-icon">üë•</span>
        <span class="qa-label">PERSONNEL<br>REGISTRY</span>
      </a>
      <a class="qa-item" onclick="showPage('fp-report')">
        <span class="qa-icon">üìã</span>
        <span class="qa-label">REPORT AI<br>SUMMARY</span>
      </a>
      <a class="qa-item" onclick="showPage('fp-threat')">
        <span class="qa-icon">üéØ</span>
        <span class="qa-label">THREAT<br>INTELLIGENCE</span>
      </a>
      <a class="qa-item" onclick="showPage('fp-logistics')">
        <span class="qa-icon">üì¶</span>
        <span class="qa-label">LOGISTICS<br>OPTIMIZER</span>
      </a>
      <a class="qa-item" onclick="showPage('fp-niyama')">
        <span class="qa-icon">‚öñÔ∏è</span>
        <span class="qa-label">NIYAMA<br>MITRA</span>
      </a>
    </div>
  </section>

  <!-- DEFENCE WINGS -->
  <section class="wings-section">
    <div class="section-header">
      <span class="section-title">DEFENCE WINGS ‚Äî OVERVIEW</span>
      <div class="section-line"></div>
    </div>

    <div class="wings-grid">
      <!-- ARMY -->
      <div class="wing-card" onclick="showPage('wing-army')">
        <div class="wing-card-header">
          <div class="wing-emblem">ü™ñ</div>
          <span class="wing-code">WING 01 // LAND FORCES</span>
        </div>
        <div class="wing-card-body">
          <div class="wing-name">INDIAN ARMY</div>
          <p class="wing-desc">
            The primary land combat force of India, defending national sovereignty across diverse terrains ‚Äî from Himalayan heights to desert frontiers.
          </p>
          <div class="wing-stats-mini">
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">12L+</span>
              <span class="wing-stat-mini-lbl">Active</span>
            </div>
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">53</span>
              <span class="wing-stat-mini-lbl">Divisions</span>
            </div>
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">6</span>
              <span class="wing-stat-mini-lbl">Commands</span>
            </div>
          </div>
          <a class="wing-learn-more">VIEW WING DETAILS ‚Üí</a>
        </div>
      </div>

      <!-- NAVY -->
      <div class="wing-card" onclick="showPage('wing-navy')">
        <div class="wing-card-header">
          <div class="wing-emblem">‚öì</div>
          <span class="wing-code">WING 02 // MARITIME FORCES</span>
        </div>
        <div class="wing-card-body">
          <div class="wing-name">INDIAN NAVY</div>
          <p class="wing-desc">
            Guardian of India's vast maritime domain, projecting power across the Indian Ocean Region and ensuring secure sea lanes of communication.
          </p>
          <div class="wing-stats-mini">
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">67K+</span>
              <span class="wing-stat-mini-lbl">Personnel</span>
            </div>
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">150+</span>
              <span class="wing-stat-mini-lbl">Vessels</span>
            </div>
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">3</span>
              <span class="wing-stat-mini-lbl">Commands</span>
            </div>
          </div>
          <a class="wing-learn-more">VIEW WING DETAILS ‚Üí</a>
        </div>
      </div>

      <!-- AIR FORCE -->
      <div class="wing-card" onclick="showPage('wing-airforce')">
        <div class="wing-card-header">
          <div class="wing-emblem">‚úàÔ∏è</div>
          <span class="wing-code">WING 03 // AERIAL FORCES</span>
        </div>
        <div class="wing-card-body">
          <div class="wing-name">INDIAN AIR FORCE</div>
          <p class="wing-desc">
            The aerial warfare branch safeguarding Indian airspace, conducting air superiority, ground attack, and strategic airlift missions nationwide.
          </p>
          <div class="wing-stats-mini">
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">1.4L+</span>
              <span class="wing-stat-mini-lbl">Personnel</span>
            </div>
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">1700+</span>
              <span class="wing-stat-mini-lbl">Aircraft</span>
            </div>
            <div class="wing-stat-mini">
              <span class="wing-stat-mini-num">7</span>
              <span class="wing-stat-mini-lbl">Commands</span>
            </div>
          </div>
          <a class="wing-learn-more">VIEW WING DETAILS ‚Üí</a>
        </div>
      </div>
    </div>
  </section>

  <footer class="footer">
    <div class="footer-left">¬© 2026 INDIAN DEFENCE CONTROL ‚Äî CLASSIFIED SYSTEM</div>
    <div class="footer-right">SESSION ENCRYPTED ¬∑ <span>AES-256</span> ¬∑ MONITORED BY CERT-IN</div>
  </footer>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WING: ARMY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="wing-army" class="page">
  <div style="max-width:1100px;margin:0 auto;">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="wing-detail-header">
      <div class="wing-detail-emblem" style="background:radial-gradient(circle,rgba(74,103,65,0.4),rgba(26,46,20,0.8));border:2px solid rgba(74,103,65,0.6);box-shadow:0 0 30px rgba(74,103,65,0.4);">ü™ñ</div>
      <div class="wing-detail-info">
        <div class="wing-detail-code" style="color:#7dbb72;">WING 01 // LAND FORCES</div>
        <div class="wing-detail-name" style="color:#7dbb72;">INDIAN ARMY</div>
        <div class="wing-detail-motto">SERVICE BEFORE SELF</div>
      </div>
    </div>

    <div class="detail-stats-grid" style="grid-template-columns:repeat(4,1fr);">
      <div class="detail-stat"><span class="detail-stat-num">12,00,000+</span><span class="detail-stat-lbl">Active Personnel</span></div>
      <div class="detail-stat"><span class="detail-stat-num">53</span><span class="detail-stat-lbl">Divisions</span></div>
      <div class="detail-stat"><span class="detail-stat-num">6</span><span class="detail-stat-lbl">Army Commands</span></div>
      <div class="detail-stat"><span class="detail-stat-num">1895</span><span class="detail-stat-lbl">Established</span></div>
    </div>

    <div class="wing-detail-content">
      <div>
        <div class="content-block">
          <h3>OVERVIEW</h3>
          <p>The Indian Army is the land-based branch and the largest component of the Indian Armed Forces. With over 1.2 million active personnel, it stands as one of the largest standing armies in the world. The primary mission of the Indian Army is to ensure national security and national unity, defend the nation from external aggression and internal threats, and maintain peace and security within its borders. The Army is supported by reserve forces of the Territorial Army and the Army Reserve. Under the Supreme Command of the President of India, the Indian Army is commanded by the Chief of Army Staff (COAS), who is a four-star general.</p>
        </div>
        <div class="content-block">
          <h3>COMMAND STRUCTURE</h3>
          <p>The Indian Army is organized into six operational commands ‚Äî Northern Command (Udhampur), Western Command (Chandimandir), South Western Command (Jaipur), Southern Command (Pune), Eastern Command (Fort William), and Central Command (Lucknow). Each Command is headed by a General Officer Commanding-in-Chief (GOC-in-C) who holds the rank of Lieutenant General. The Army Training Command (ARTRAC) is responsible for formulating training policies.</p>
        </div>
        <div class="content-block">
          <h3>SPECIAL FORCES</h3>
          <p>The Para (Special Forces) are elite airborne special operations forces of the Indian Army. Other specialized formations include the Rashtriya Rifles for counter-insurgency operations, the Special Frontier Force (SFF) operating in high-altitude terrain, and the National Security Guard (NSG) for counter-terrorism tasks. The Army maintains robust capabilities in cyber warfare, electronic warfare, and unmanned aerial vehicle (UAV) operations.</p>
        </div>
        <div class="content-block">
          <h3>MODERNIZATION</h3>
          <p>The Indian Army's modernization program focuses on acquiring advanced equipment including the Arjun Main Battle Tank, K9 Vajra self-propelled howitzers, Spike anti-tank guided missiles, and indigenous armed drones. The Army is also developing integrated battle groups (IBGs) for swift, self-contained offensive and defensive operations as part of its transformation roadmap towards a future-ready, technology-enabled force capable of fighting in a network-centric environment across all domains.</p>
        </div>
      </div>
      <div>
        <div class="content-block">
          <h3>KEY FORMATIONS</h3>
          <p style="margin-bottom:12px;font-size:13px;color:#5a7a8a;letter-spacing:1px;">Strike Corps ¬∑ Hold Corps ¬∑ Mountain Corps ¬∑ Armoured Divisions ¬∑ Infantry Divisions ¬∑ Artillery Brigades ¬∑ Engineer Regiments ¬∑ Signal Corps</p>
        </div>
        <div class="content-block">
          <h3>NOTABLE OPERATIONS</h3>
          <p style="line-height:2;">Op. Vijay (1999)<br>Op. Parakram (2001‚Äì02)<br>Op. Meghdoot (Siachen)<br>Op. Blue Star (1984)<br>Op. Cactus (Maldives)<br>UN Peacekeeping Missions</p>
        </div>
        <div class="content-block">
          <h3>RANKS ‚Äî OFFICERS</h3>
          <p style="line-height:2.2;font-size:13px;font-family:'Share Tech Mono',monospace;color:#5a8a7a;">
            Field Marshal<br>General<br>Lt. General<br>Major General<br>Brigadier<br>Colonel<br>Lt. Colonel<br>Major<br>Captain<br>Lieutenant<br>2nd Lieutenant
          </p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WING: NAVY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="wing-navy" class="page">
  <div style="max-width:1100px;margin:0 auto;">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="wing-detail-header">
      <div class="wing-detail-emblem" style="background:radial-gradient(circle,rgba(26,58,107,0.5),rgba(6,14,32,0.8));border:2px solid rgba(26,58,107,0.7);box-shadow:0 0 30px rgba(26,58,107,0.5);">‚öì</div>
      <div class="wing-detail-info">
        <div class="wing-detail-code" style="color:#6090d0;">WING 02 // MARITIME FORCES</div>
        <div class="wing-detail-name" style="color:#6090d0;">INDIAN NAVY</div>
        <div class="wing-detail-motto">‡§∂‡§Ç ‡§®‡•ã ‡§µ‡§∞‡•Å‡§£: ‚Äî MAY THE LORD OF WATERS BE AUSPICIOUS</div>
      </div>
    </div>
    <div class="detail-stats-grid" style="grid-template-columns:repeat(4,1fr);">
      <div class="detail-stat"><span class="detail-stat-num">67,000+</span><span class="detail-stat-lbl">Personnel</span></div>
      <div class="detail-stat"><span class="detail-stat-num">150+</span><span class="detail-stat-lbl">Vessels</span></div>
      <div class="detail-stat"><span class="detail-stat-num">3</span><span class="detail-stat-lbl">Naval Commands</span></div>
      <div class="detail-stat"><span class="detail-stat-num">1612</span><span class="detail-stat-lbl">Established</span></div>
    </div>
    <div class="wing-detail-content">
      <div>
        <div class="content-block">
          <h3>OVERVIEW</h3>
          <p>The Indian Navy is the maritime branch of the Indian Armed Forces. The President of India is the Supreme Commander. The Chief of Naval Staff, a four-star admiral, commands the Navy. The Indian Navy plays a vital role in securing India's vast 7,517 km coastline, 1,382 islands, and a maritime Exclusive Economic Zone of 2.4 million square kilometers. It is the seventh largest navy in the world and projects significant power across the Indian Ocean Region, serving as a net security provider to regional littoral states.</p>
        </div>
        <div class="content-block">
          <h3>FLEET COMPOSITION</h3>
          <p>The Indian Navy operates aircraft carriers (INS Vikrant, INS Vikramaditya), nuclear-powered submarines (INS Arihant class), conventionally-powered submarines (Scorp√®ne-class, Kilo-class), destroyers, frigates, corvettes, patrol vessels, and amphibious warfare ships. The aviation wing operates MiG-29K fighters, P-8I maritime patrol aircraft, and various helicopter types including the MH-60R Seahawks and Ka-28s for ASW operations.</p>
        </div>
        <div class="content-block">
          <h3>STRATEGIC ROLE</h3>
          <p>The Indian Navy maintains a credible nuclear deterrence through its sea-based ballistic missile submarines. It conducts anti-piracy patrols in the Gulf of Aden, humanitarian assistance during disasters, HADR operations, and regular combined exercises with navies of the USA, France, Japan, Australia, and other partner nations. The Navy's Indo-Pacific outreach reflects India's strategic vision of a free, open, and prosperous Indo-Pacific region.</p>
        </div>
      </div>
      <div>
        <div class="content-block">
          <h3>COMMANDS</h3>
          <p style="line-height:2.2;font-family:'Share Tech Mono',monospace;font-size:12px;color:#5a7a8a;">
            Western Naval Command<br>(Mumbai)<br><br>
            Eastern Naval Command<br>(Visakhapatnam)<br><br>
            Southern Naval Command<br>(Kochi ‚Äî Training HQ)
          </p>
        </div>
        <div class="content-block">
          <h3>NOTABLE PROGRAMS</h3>
          <p style="line-height:2;font-size:13px;">Project 75I (SSK)<br>Project 17A (Frigates)<br>Project 15B (Destroyers)<br>INS Vikrant (Indigenous Carrier)<br>ATAGS Artillery Naval Variant</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê WING: AIR FORCE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="wing-airforce" class="page">
  <div style="max-width:1100px;margin:0 auto;">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="wing-detail-header">
      <div class="wing-detail-emblem" style="background:radial-gradient(circle,rgba(30,77,123,0.4),rgba(6,14,28,0.8));border:2px solid rgba(30,77,123,0.6);box-shadow:0 0 30px rgba(30,77,123,0.4);">‚úàÔ∏è</div>
      <div class="wing-detail-info">
        <div class="wing-detail-code" style="color:#5aaaee;">WING 03 // AERIAL FORCES</div>
        <div class="wing-detail-name" style="color:#5aaaee;">INDIAN AIR FORCE</div>
        <div class="wing-detail-motto">‡§®‡§≠‡§É ‡§∏‡•ç‡§™‡•É‡§∂‡§Ç ‡§¶‡•Ä‡§™‡•ç‡§§‡§Æ‡•ç ‚Äî TOUCH THE SKY WITH GLORY</div>
      </div>
    </div>
    <div class="detail-stats-grid" style="grid-template-columns:repeat(4,1fr);">
      <div class="detail-stat"><span class="detail-stat-num">1,40,000+</span><span class="detail-stat-lbl">Personnel</span></div>
      <div class="detail-stat"><span class="detail-stat-num">1700+</span><span class="detail-stat-lbl">Aircraft</span></div>
      <div class="detail-stat"><span class="detail-stat-num">7</span><span class="detail-stat-lbl">Air Commands</span></div>
      <div class="detail-stat"><span class="detail-stat-num">1932</span><span class="detail-stat-lbl">Established</span></div>
    </div>
    <div class="wing-detail-content">
      <div>
        <div class="content-block">
          <h3>OVERVIEW</h3>
          <p>The Indian Air Force (IAF) is the air arm of the Indian Armed Forces. Its primary mission is to secure Indian airspace and to conduct aerial warfare during armed conflict. Established on 8 October 1932, it is the fourth-largest air force in the world. The President of India serves as Supreme Commander. The Air Force is headed by the Chief of Air Staff (CAS), an air chief marshal. It currently operates over 270 combat squadrons and employs advanced fighters, strategic transport aircraft, airborne warning and control systems, and unmanned aerial vehicles.</p>
        </div>
        <div class="content-block">
          <h3>FLEET HIGHLIGHTS</h3>
          <p>The backbone of IAF combat power consists of Sukhoi Su-30MKI multi-role fighters, Dassault Rafale 4.5-generation fighters, MiG-29 upgrades, SEPECAT Jaguar strike aircraft, and the indigenous Tejas Light Combat Aircraft (LCA). The transport fleet includes the C-17 Globemaster III, IL-76, C-130J Super Hercules, and AN-32. The helicopter fleet features the Mi-17 series, Chinook CH-47F heavy lift, and Apache AH-64E attack helicopters.</p>
        </div>
        <div class="content-block">
          <h3>MODERNIZATION & FUTURE</h3>
          <p>The IAF is actively pursuing its MRFA (Medium Role Fighter Aircraft) programme to replace aging MiG-21 fleets. The indigenous AMCA (Advanced Medium Combat Aircraft) stealth fighter is under development. Network-centric warfare capability is being upgraded under the Air Force Network (AFNET) programme. Integration of Astra beyond-visual-range missiles, BrahMos air-launched cruise missiles, and advanced electronic warfare suites are key priorities.</p>
        </div>
      </div>
      <div>
        <div class="content-block">
          <h3>COMMANDS</h3>
          <p style="line-height:2.2;font-family:'Share Tech Mono',monospace;font-size:11px;color:#5a7a8a;">
            Western Air Command<br>Eastern Air Command<br>Southern Air Command<br>Central Air Command<br>South-Western Air Command<br>Maintenance Command<br>Training Command
          </p>
        </div>
        <div class="content-block">
          <h3>NOTABLE OPERATIONS</h3>
          <p style="line-height:2;font-size:13px;">Op. Bandar (Balakot 2019)<br>Op. Safed Sagar (Kargil)<br>Op. Cactus (Maldives)<br>Op. Pawan (Sri Lanka)<br>HADR ‚Äî Nepal Earthquake<br>Evacuation from Afghanistan</p>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FEATURE: PERSONNEL REGISTRY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="fp-personnel" class="feature-page">
  <div class="feature-page-inner" style="max-width:1300px;">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="fp-header">
      <div class="fp-icon">üë•</div>
      <div>
        <div class="fp-title">PERSONNEL REGISTRY</div>
        <div class="fp-subtitle">// SOLDIER DATA MANAGEMENT SYSTEM ‚Äî BETA v1.0 ‚Äî 1000 RECORDS LOADED</div>
      </div>
      <div style="margin-left:auto;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--teal);text-align:right;line-height:1.8;">
        <div>RECORDS: <span id="pr-total-count" style="color:var(--gold);">1000</span></div>
        <div>FILTERED: <span id="pr-filtered-count" style="color:var(--gold);">1000</span></div>
      </div>
    </div>

    <!-- CONTROLS -->
    <div style="display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap;align-items:center;">
      <div style="position:relative;flex:1;min-width:220px;">
        <input id="pr-search" type="text" placeholder="Search by name, ID, rank, unit..." 
          style="width:100%;background:rgba(10,30,46,0.9);border:1px solid var(--border);color:var(--white);padding:10px 14px 10px 38px;font-family:'Share Tech Mono',monospace;font-size:12px;outline:none;clip-path:polygon(4px 0,100% 0,calc(100% - 4px) 100%,0 100%);"
          oninput="prApplyFilters()">
        <span style="position:absolute;left:12px;top:50%;transform:translateY(-50%);color:var(--muted);font-size:14px;">üîç</span>
      </div>
      <select id="pr-wing-filter" onchange="prApplyFilters()"
        style="background:rgba(10,30,46,0.9);border:1px solid var(--border);color:var(--white);padding:10px 16px;font-family:'Share Tech Mono',monospace;font-size:12px;outline:none;cursor:pointer;min-width:160px;">
        <option value="">ALL WINGS</option>
        <option value="Indian Army">INDIAN ARMY</option>
        <option value="Indian Navy">INDIAN NAVY</option>
        <option value="Indian Air Force">INDIAN AIR FORCE</option>
      </select>
      <select id="pr-risk-filter" onchange="prApplyFilters()"
        style="background:rgba(10,30,46,0.9);border:1px solid var(--border);color:var(--white);padding:10px 16px;font-family:'Share Tech Mono',monospace;font-size:12px;outline:none;cursor:pointer;min-width:140px;">
        <option value="">ALL RISK</option>
        <option value="Low">LOW RISK</option>
        <option value="Medium">MEDIUM RISK</option>
        <option value="High">HIGH RISK</option>
      </select>
      <select id="pr-status-filter" onchange="prApplyFilters()"
        style="background:rgba(10,30,46,0.9);border:1px solid var(--border);color:var(--white);padding:10px 16px;font-family:'Share Tech Mono',monospace;font-size:12px;outline:none;cursor:pointer;min-width:160px;">
        <option value="">ALL STATUS</option>
        <option value="Active">ACTIVE</option>
        <option value="Reserve">RESERVE</option>
        <option value="Training">TRAINING</option>
      </select>
      <div style="display:flex;gap:8px;margin-left:auto;">
        <div style="background:rgba(0,212,170,0.08);border:1px solid rgba(0,212,170,0.2);padding:8px 14px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--teal);white-space:nowrap;">
          üü¢ LOW: <span id="pr-low-count">0</span>
        </div>
        <div style="background:rgba(255,193,7,0.08);border:1px solid rgba(255,193,7,0.2);padding:8px 14px;font-family:'Share Tech Mono',monospace;font-size:10px;color:#ffc107;white-space:nowrap;">
          üü° MED: <span id="pr-med-count">0</span>
        </div>
        <div style="background:rgba(255,59,59,0.08);border:1px solid rgba(255,59,59,0.2);padding:8px 14px;font-family:'Share Tech Mono',monospace;font-size:10px;color:#ff3b3b;white-space:nowrap;">
          üî¥ HIGH: <span id="pr-high-count">0</span>
        </div>
      </div>
    </div>

    <!-- TABLE -->
    <div style="overflow-x:auto;border:1px solid var(--border);background:var(--bg-card);">
      <table id="pr-table" style="width:100%;border-collapse:collapse;font-size:12px;">
        <thead>
          <tr style="background:rgba(200,168,75,0.08);border-bottom:2px solid var(--border);">
            <th class="pr-th" onclick="prSort('id')" data-col="id">PERSONNEL ID ‚Üï</th>
            <th class="pr-th" onclick="prSort('name')" data-col="name">FULL NAME ‚Üï</th>
            <th class="pr-th" onclick="prSort('wing')" data-col="wing">WING ‚Üï</th>
            <th class="pr-th" onclick="prSort('rank')" data-col="rank">RANK ‚Üï</th>
            <th class="pr-th">UNIT</th>
            <th class="pr-th">POSTING</th>
            <th class="pr-th" onclick="prSort('status')" data-col="status">STATUS ‚Üï</th>
            <th class="pr-th">CLEARANCE</th>
            <th class="pr-th">MISSION</th>
            <th class="pr-th" onclick="prSort('perf')" data-col="perf">PERF ‚Üï</th>
            <th class="pr-th" onclick="prSort('risk')" data-col="risk">RISK ‚Üï</th>
          </tr>
        </thead>
        <tbody id="pr-tbody"></tbody>
      </table>
    </div>

    <!-- PAGINATION -->
    <div style="display:flex;align-items:center;justify-content:space-between;margin-top:14px;flex-wrap:wrap;gap:10px;">
      <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--muted);">
        SHOWING <span id="pr-page-info" style="color:var(--gold);">1‚Äì25 of 1000</span>
      </div>
      <div style="display:flex;gap:6px;align-items:center;" id="pr-pagination"></div>
      <select id="pr-per-page" onchange="prChangePerPage()"
        style="background:rgba(10,30,46,0.9);border:1px solid var(--border);color:var(--white);padding:6px 12px;font-family:'Share Tech Mono',monospace;font-size:11px;outline:none;">
        <option value="25">25/PAGE</option>
        <option value="50">50/PAGE</option>
        <option value="100">100/PAGE</option>
      </select>
    </div>
    <div style="margin-top:10px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;">
      ‚ö° BETA ‚Äî SIMULATED DATA ¬∑ API ENDPOINT: /api/v1/personnel ¬∑ RBAC: CONFIDENTIAL+
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FEATURE: REPORT AI SUMMARY ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="fp-report" class="feature-page">
  <div class="feature-page-inner">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="fp-header">
      <div class="fp-icon">üìã</div>
      <div>
        <div class="fp-title">REPORT AI SUMMARY</div>
        <div class="fp-subtitle">// AUTOMATED OPERATION MEMO ANALYSIS ‚Äî NLP ENGINE v2.1 ‚Äî BETA</div>
      </div>
    </div>

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:28px;">
      <!-- UPLOAD ZONE -->
      <div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:3px;margin-bottom:10px;">STEP 01 // UPLOAD OPERATION MEMO</div>
        <div id="rs-dropzone" onclick="document.getElementById('rs-file-input').click()"
          style="border:2px dashed rgba(200,168,75,0.3);background:rgba(10,30,46,0.5);padding:40px 20px;text-align:center;cursor:pointer;transition:all 0.3s;position:relative;"
          ondragover="event.preventDefault();this.style.borderColor='var(--gold)'"
          ondragleave="this.style.borderColor='rgba(200,168,75,0.3)'"
          ondrop="rsHandleDrop(event)">
          <input type="file" id="rs-file-input" style="display:none;" accept="*/*" onchange="rsHandleFile(this.files[0])">
          <div style="font-size:36px;margin-bottom:12px;">üìÑ</div>
          <div style="font-family:'Orbitron',monospace;font-size:12px;color:var(--gold);letter-spacing:2px;margin-bottom:8px;">DROP FILE HERE</div>
          <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);">PDF ¬∑ DOCX ¬∑ TXT ¬∑ JPG ¬∑ PNG ¬∑ Any Format</div>
          <div id="rs-file-name" style="margin-top:14px;font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--teal);display:none;"></div>
        </div>
        <div style="display:flex;gap:10px;margin-top:12px;">
          <button onclick="rsAnalyze()" id="rs-analyze-btn"
            style="flex:1;padding:13px;background:var(--gold);color:var(--bg-dark);border:none;font-family:'Orbitron',monospace;font-size:11px;font-weight:700;letter-spacing:3px;cursor:pointer;clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);transition:all 0.25s;">
            ‚ñ∂ ANALYZE DOCUMENT
          </button>
          <button onclick="rsClear()"
            style="padding:13px 18px;background:transparent;color:var(--muted);border:1px solid var(--border);font-family:'Share Tech Mono',monospace;font-size:11px;cursor:pointer;transition:all 0.2s;">
            CLEAR
          </button>
        </div>
        <div id="rs-processing" style="display:none;margin-top:14px;">
          <div style="background:rgba(0,212,170,0.06);border:1px solid rgba(0,212,170,0.2);padding:14px 16px;">
            <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--teal);letter-spacing:2px;margin-bottom:8px;">‚öô NLP ENGINE PROCESSING...</div>
            <div id="rs-progress-bar-wrap" style="background:rgba(0,0,0,0.4);height:6px;border-radius:2px;overflow:hidden;">
              <div id="rs-progress-bar" style="height:100%;width:0%;background:linear-gradient(90deg,var(--teal),var(--gold));transition:width 0.3s;"></div>
            </div>
            <div id="rs-progress-label" style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);margin-top:6px;letter-spacing:1px;">Tokenizing document...</div>
          </div>
        </div>
      </div>

      <!-- SAMPLE REPORTS -->
      <div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:3px;margin-bottom:10px;">STEP 01 (ALT) // LOAD SAMPLE REPORT</div>
        <div style="display:flex;flex-direction:column;gap:8px;">
          <button onclick="rsLoadSample(0)" class="rs-sample-btn">üìÅ OP_VIJAY_SIACHEN_MEMO.pdf</button>
          <button onclick="rsLoadSample(1)" class="rs-sample-btn">üìÅ OP_NORTHERN_LOGISTICS_BRIEF.docx</button>
          <button onclick="rsLoadSample(2)" class="rs-sample-btn">üìÅ OP_MARITIME_PATROL_REPORT.txt</button>
          <button onclick="rsLoadSample(3)" class="rs-sample-btn">üìÅ OP_AERIAL_STRIKE_ASSESSMENT.pdf</button>
          <button onclick="rsLoadSample(4)" class="rs-sample-btn">üìÅ OP_CYBER_BREACH_INCIDENT.docx</button>
        </div>
        <div style="margin-top:14px;background:rgba(200,168,75,0.04);border:1px solid rgba(200,168,75,0.1);padding:12px 14px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);line-height:1.8;">
          ‚ö° BETA MODE: Simulated NLP analysis<br>
          API: /api/v1/report/summarize<br>
          Model: IDC-NLP-v2 (Classified)
        </div>
      </div>
    </div>

    <!-- SUMMARY OUTPUT -->
    <div id="rs-output" style="display:none;">
      <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:3px;margin-bottom:14px;display:flex;align-items:center;gap:12px;">
        STEP 02 // GENERATED INTELLIGENCE SUMMARY
        <div style="flex:1;height:1px;background:linear-gradient(90deg,var(--border),transparent);"></div>
        <span id="rs-timestamp" style="color:var(--teal);"></span>
      </div>

      <!-- MEMO HEADER -->
      <div style="background:rgba(10,30,46,0.8);border:1px solid var(--border);padding:20px 24px;margin-bottom:16px;position:relative;">
        <div style="position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,var(--gold),var(--teal),transparent);"></div>
        <div style="display:flex;justify-content:space-between;align-items:flex-start;flex-wrap:wrap;gap:12px;">
          <div>
            <div style="font-family:'Orbitron',monospace;font-size:16px;font-weight:700;color:var(--gold);letter-spacing:3px;" id="rs-memo-title">OPERATION BRIEF</div>
            <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--muted);letter-spacing:2px;margin-top:4px;" id="rs-memo-ref">REF: IDC/OPS/2026/XXXX</div>
          </div>
          <div style="display:flex;gap:10px;flex-wrap:wrap;">
            <div style="text-align:center;background:rgba(0,0,0,0.3);padding:8px 16px;border:1px solid var(--border);">
              <div style="font-family:'Orbitron',monospace;font-size:18px;font-weight:700;" id="rs-priority-badge">HIGH</div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--muted);">PRIORITY</div>
            </div>
            <div style="text-align:center;background:rgba(0,0,0,0.3);padding:8px 16px;border:1px solid var(--border);">
              <div style="font-family:'Orbitron',monospace;font-size:18px;font-weight:700;" id="rs-risk-badge">MEDIUM</div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--muted);">RISK LEVEL</div>
            </div>
            <div style="text-align:center;background:rgba(0,0,0,0.3);padding:8px 16px;border:1px solid var(--border);">
              <div style="font-family:'Orbitron',monospace;font-size:18px;font-weight:700;" id="rs-status-badge">ACTIVE</div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--muted);">OP STATUS</div>
            </div>
          </div>
        </div>
      </div>

      <!-- SUMMARY SECTIONS -->
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px;">
        <div class="rs-section" id="rs-sec-objective">
          <div class="rs-section-title">üéØ MISSION OBJECTIVE</div>
          <div class="rs-section-body" id="rs-objective-body"></div>
        </div>
        <div class="rs-section" id="rs-sec-actions">
          <div class="rs-section-title">‚ö° KEY ACTIONS</div>
          <div class="rs-section-body" id="rs-actions-body"></div>
        </div>
      </div>
      <div style="display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:16px;">
        <div class="rs-section rs-section-risk" id="rs-sec-risks">
          <div class="rs-section-title" style="color:#ff6b6b;">‚ö† RISK HIGHLIGHTS</div>
          <div class="rs-section-body" id="rs-risks-body"></div>
        </div>
        <div class="rs-section" id="rs-sec-status">
          <div class="rs-section-title">üì° OPERATIONAL STATUS</div>
          <div class="rs-section-body" id="rs-opstatus-body"></div>
        </div>
      </div>

      <!-- CONFIDENCE BAR -->
      <div style="background:rgba(10,30,46,0.6);border:1px solid var(--border);padding:16px 20px;display:flex;align-items:center;gap:20px;flex-wrap:wrap;">
        <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;white-space:nowrap;">NLP CONFIDENCE</div>
        <div style="flex:1;background:rgba(0,0,0,0.4);height:8px;border-radius:2px;overflow:hidden;min-width:100px;">
          <div id="rs-confidence-bar" style="height:100%;background:linear-gradient(90deg,var(--teal),var(--gold));transition:width 1s;"></div>
        </div>
        <div id="rs-confidence-val" style="font-family:'Orbitron',monospace;font-size:14px;color:var(--gold);white-space:nowrap;"></div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:1px;">KEYWORDS EXTRACTED: <span id="rs-kw-count" style="color:var(--teal);">‚Äî</span></div>
        <button onclick="rsExport()" style="background:transparent;border:1px solid var(--border);color:var(--gold);padding:7px 14px;font-family:'Share Tech Mono',monospace;font-size:10px;letter-spacing:2px;cursor:pointer;transition:all 0.2s;">‚¨á EXPORT</button>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FEATURE: THREAT INTELLIGENCE ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="fp-threat" class="feature-page">
  <div class="feature-page-inner" style="max-width:1300px;">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="fp-header">
      <div class="fp-icon" style="background:rgba(255,59,59,0.1);border-color:rgba(255,59,59,0.3);">üéØ</div>
      <div>
        <div class="fp-title">THREAT INTELLIGENCE</div>
        <div class="fp-subtitle">// CDR NETWORK ANALYSIS ¬∑ DROHI DETECTION ENGINE ¬∑ BETA ‚Äî TOP SECRET</div>
      </div>
      <div style="margin-left:auto;background:rgba(255,59,59,0.08);border:1px solid rgba(255,59,59,0.25);padding:10px 16px;font-family:'Share Tech Mono',monospace;font-size:10px;color:#ff6b6b;letter-spacing:2px;text-align:center;">
        üîí RESTRICTED<br>ACCESS
      </div>
    </div>

    <!-- WARNING BANNER -->
    <div style="background:rgba(255,59,59,0.06);border:1px solid rgba(255,59,59,0.2);border-left:4px solid #ff3b3b;padding:12px 16px;margin-bottom:24px;font-family:'Share Tech Mono',monospace;font-size:11px;color:#ff8888;letter-spacing:1px;line-height:1.6;">
      ‚ö† CLASSIFIED SYSTEM ‚Äî All queries are logged and monitored. Unauthorized use is a criminal offence under the Official Secrets Act. Access restricted to personnel with TOP SECRET clearance and above.
    </div>

    <!-- SEARCH PANEL -->
    <div style="background:var(--bg-card);border:1px solid var(--border);padding:24px;margin-bottom:24px;position:relative;">
      <div style="position:absolute;top:0;left:0;right:0;height:2px;background:linear-gradient(90deg,#ff3b3b,rgba(255,59,59,0.1));"></div>
      <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:3px;margin-bottom:14px;">TARGET IDENTIFICATION INPUT</div>
      <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:flex-end;">
        <div style="flex:1;min-width:200px;">
          <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;margin-bottom:6px;">CALLER ID / NUMBER</div>
          <input id="ti-search" type="text" placeholder="Enter number or ID (e.g. 98XXXXXXXX)" 
            style="width:100%;background:rgba(5,13,20,0.9);border:1px solid rgba(255,59,59,0.3);color:var(--white);padding:11px 14px;font-family:'Share Tech Mono',monospace;font-size:13px;outline:none;"
            onkeydown="if(event.key==='Enter')tiDetect()">
        </div>
        <div style="min-width:140px;">
          <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;margin-bottom:6px;">REGION FILTER</div>
          <select id="ti-region" style="width:100%;background:rgba(5,13,20,0.9);border:1px solid var(--border);color:var(--white);padding:11px 14px;font-family:'Share Tech Mono',monospace;font-size:12px;outline:none;">
            <option value="">ALL REGIONS</option>
            <option>J&K / LOC</option><option>Northeast</option><option>Punjab Border</option>
            <option>Rajasthan</option><option>Coastal Zone</option>
          </select>
        </div>
        <div style="min-width:140px;">
          <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;margin-bottom:6px;">DATE RANGE</div>
          <select id="ti-range" style="width:100%;background:rgba(5,13,20,0.9);border:1px solid var(--border);color:var(--white);padding:11px 14px;font-family:'Share Tech Mono',monospace;font-size:12px;outline:none;">
            <option>LAST 7 DAYS</option><option>LAST 30 DAYS</option><option>LAST 90 DAYS</option>
          </select>
        </div>
        <button onclick="tiDetect()" id="ti-detect-btn"
          style="padding:11px 28px;background:#ff3b3b;color:#fff;border:none;font-family:'Orbitron',monospace;font-size:11px;font-weight:700;letter-spacing:2px;cursor:pointer;clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);transition:all 0.25s;white-space:nowrap;align-self:flex-end;">
          ‚ö° DETECT THREAT PATTERNS
        </button>
      </div>
    </div>

    <!-- STATS ROW -->
    <div id="ti-stats" style="display:none;display:grid;grid-template-columns:repeat(4,1fr);gap:12px;margin-bottom:20px;">
      <div class="ti-stat-card"><div class="ti-stat-num" id="ti-s1">‚Äî</div><div class="ti-stat-lbl">RECORDS SCANNED</div></div>
      <div class="ti-stat-card" style="border-color:rgba(255,193,7,0.3)"><div class="ti-stat-num" style="color:#ffc107;" id="ti-s2">‚Äî</div><div class="ti-stat-lbl">ANOMALIES FLAGGED</div></div>
      <div class="ti-stat-card" style="border-color:rgba(255,59,59,0.3)"><div class="ti-stat-num" style="color:#ff3b3b;" id="ti-s3">‚Äî</div><div class="ti-stat-lbl">HIGH SUSPICION</div></div>
      <div class="ti-stat-card" style="border-color:rgba(0,212,170,0.3)"><div class="ti-stat-num" style="color:var(--teal);" id="ti-s4">‚Äî</div><div class="ti-stat-lbl">NETWORK NODES</div></div>
    </div>

    <!-- PROCESSING -->
    <div id="ti-processing" style="display:none;background:rgba(255,59,59,0.04);border:1px solid rgba(255,59,59,0.15);padding:20px;margin-bottom:20px;text-align:center;">
      <div style="font-family:'Share Tech Mono',monospace;font-size:12px;color:#ff8888;letter-spacing:3px;margin-bottom:12px;" id="ti-proc-label">INITIALIZING CDR ANALYSIS ENGINE...</div>
      <div style="background:rgba(0,0,0,0.4);height:6px;border-radius:2px;overflow:hidden;max-width:500px;margin:0 auto;">
        <div id="ti-proc-bar" style="height:100%;width:0%;background:linear-gradient(90deg,#ff3b3b,#ff8888);transition:width 0.25s;"></div>
      </div>
    </div>

    <!-- RESULTS TABLE -->
    <div id="ti-results" style="display:none;">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;flex-wrap:wrap;gap:10px;">
        <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:3px;">
          CDR ANALYSIS RESULTS ‚Äî <span id="ti-result-count" style="color:#ff6b6b;"></span> SUSPICIOUS RECORDS IDENTIFIED
        </div>
        <div style="display:flex;gap:8px;">
          <div style="background:rgba(255,59,59,0.08);border:1px solid rgba(255,59,59,0.2);padding:6px 12px;font-family:'Share Tech Mono',monospace;font-size:10px;color:#ff6b6b;">üî¥ HIGH: <span id="ti-r-high">0</span></div>
          <div style="background:rgba(255,193,7,0.08);border:1px solid rgba(255,193,7,0.2);padding:6px 12px;font-family:'Share Tech Mono',monospace;font-size:10px;color:#ffc107;">üü° MED: <span id="ti-r-med">0</span></div>
          <div style="background:rgba(0,212,170,0.08);border:1px solid rgba(0,212,170,0.2);padding:6px 12px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--teal);">üü¢ LOW: <span id="ti-r-low">0</span></div>
        </div>
      </div>
      <div style="overflow-x:auto;border:1px solid rgba(255,59,59,0.15);background:var(--bg-card);">
        <table style="width:100%;border-collapse:collapse;font-size:12px;">
          <thead>
            <tr style="background:rgba(255,59,59,0.06);border-bottom:1px solid rgba(255,59,59,0.15);">
              <th class="pr-th" style="color:#ff8888;">CALLER ID</th>
              <th class="pr-th" style="color:#ff8888;">RECEIVER ID</th>
              <th class="pr-th" style="color:#ff8888;">CALL FREQ/DAY</th>
              <th class="pr-th" style="color:#ff8888;">NIGHT ACTIVITY</th>
              <th class="pr-th" style="color:#ff8888;">MULTI-SIM</th>
              <th class="pr-th" style="color:#ff8888;">DEVICE CHANGES</th>
              <th class="pr-th" style="color:#ff8888;">BURST PATTERN</th>
              <th class="pr-th" style="color:#ff8888;">ANOMALY SCORE</th>
              <th class="pr-th" style="color:#ff8888;">SUSPICION LVL</th>
            </tr>
          </thead>
          <tbody id="ti-tbody"></tbody>
        </table>
      </div>
      <div style="margin-top:10px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;">
        ‚ö° SIMULATED CDR METADATA ANALYSIS ¬∑ No call audio intercepted ¬∑ Graph Analysis + Anomaly Detection ¬∑ /api/v1/threat/detect
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FEATURE: LOGISTICS ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="fp-logistics" class="feature-page">
  <div class="feature-page-inner" style="max-width:1300px;">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="fp-header">
      <div class="fp-icon">üì¶</div>
      <div>
        <div class="fp-title">LOGISTICS OPTIMIZER</div>
        <div class="fp-subtitle">// AI-BASED DEFENCE SUPPLY CHAIN MONITORING & OPTIMIZATION ‚Äî BETA</div>
      </div>
      <div style="margin-left:auto;display:flex;gap:10px;flex-wrap:wrap;">
        <div class="logi-kpi"><div class="logi-kpi-num" id="logi-k1" style="color:#ff3b3b;">0</div><div class="logi-kpi-lbl">CRITICAL</div></div>
        <div class="logi-kpi"><div class="logi-kpi-num" id="logi-k2" style="color:#ffc107;">0</div><div class="logi-kpi-lbl">WARNING</div></div>
        <div class="logi-kpi"><div class="logi-kpi-num" id="logi-k3" style="color:var(--teal);">0</div><div class="logi-kpi-lbl">STABLE</div></div>
      </div>
    </div>

    <!-- SECTION 1: SHIPMENT DELAY -->
    <div class="logi-section">
      <div class="logi-section-header">
        <div class="logi-section-num">01</div>
        <div>
          <div class="logi-section-title">SHIPMENT DELAY MONITORING</div>
          <div class="logi-section-sub">Real-time tracking of delayed supply convoys ¬∑ Severity escalates with delay duration</div>
        </div>
        <div style="margin-left:auto;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);">
          <span id="logi-delay-count" style="color:var(--gold);">0</span> ACTIVE DELAYS
        </div>
      </div>
      <div style="overflow-x:auto;">
        <table style="width:100%;border-collapse:collapse;font-size:12px;">
          <thead>
            <tr style="background:rgba(200,168,75,0.06);border-bottom:1px solid var(--border);">
              <th class="pr-th">FROM BASE</th>
              <th class="pr-th">TO BASE</th>
              <th class="pr-th">SUPPLY TYPE</th>
              <th class="pr-th">DISPATCH DATE</th>
              <th class="pr-th">EXPECTED ARRIVAL</th>
              <th class="pr-th">ACTUAL DELAY</th>
              <th class="pr-th">TRANSPORT STATUS</th>
              <th class="pr-th">SEVERITY SCORE</th>
            </tr>
          </thead>
          <tbody id="logi-delay-tbody"></tbody>
        </table>
      </div>
    </div>

    <!-- SECTION 2: EQUIPMENT DISTRIBUTION -->
    <div class="logi-section" style="margin-top:28px;">
      <div class="logi-section-header">
        <div class="logi-section-num">02</div>
        <div>
          <div class="logi-section-title">EQUIPMENT DISTRIBUTION STATUS</div>
          <div class="logi-section-sub">Current vs Required stock levels across all bases ¬∑ AI-monitored threshold alerts</div>
        </div>
        <div style="margin-left:auto;display:flex;gap:8px;font-family:'Share Tech Mono',monospace;font-size:10px;">
          <span style="color:#ff3b3b;border:1px solid rgba(255,59,59,0.3);padding:4px 10px;">üî¥ CRITICAL: <span id="logi-dist-crit">0</span></span>
          <span style="color:#ffc107;border:1px solid rgba(255,193,7,0.3);padding:4px 10px;">üü° WARN: <span id="logi-dist-warn">0</span></span>
          <span style="color:var(--teal);border:1px solid rgba(0,212,170,0.3);padding:4px 10px;">üü¢ OK: <span id="logi-dist-ok">0</span></span>
        </div>
      </div>
      <div style="overflow-x:auto;">
        <table style="width:100%;border-collapse:collapse;font-size:12px;">
          <thead>
            <tr style="background:rgba(200,168,75,0.06);border-bottom:1px solid var(--border);">
              <th class="pr-th">BASE NAME</th>
              <th class="pr-th">LOCATION</th>
              <th class="pr-th">EQUIPMENT TYPE</th>
              <th class="pr-th">CURRENT STOCK</th>
              <th class="pr-th">REQUIRED STOCK</th>
              <th class="pr-th">DAILY CONSUMPTION</th>
              <th class="pr-th">DAYS REMAINING</th>
              <th class="pr-th">STATUS</th>
            </tr>
          </thead>
          <tbody id="logi-dist-tbody"></tbody>
        </table>
      </div>
    </div>

    <!-- SECTION 3: REDISTRIBUTION -->
    <div class="logi-section" style="margin-top:28px;">
      <div class="logi-section-header">
        <div class="logi-section-num">03</div>
        <div>
          <div class="logi-section-title">AI REDISTRIBUTION SUGGESTIONS</div>
          <div class="logi-section-sub">Smart allocation engine ¬∑ Greedy algorithm optimization ¬∑ Surplus ‚Üí Deficit routing</div>
        </div>
      </div>
      <div style="overflow-x:auto;">
        <table style="width:100%;border-collapse:collapse;font-size:12px;">
          <thead>
            <tr style="background:rgba(200,168,75,0.06);border-bottom:1px solid var(--border);">
              <th class="pr-th">SHORTAGE BASE</th>
              <th class="pr-th">SURPLUS BASE</th>
              <th class="pr-th">SUPPLY TYPE</th>
              <th class="pr-th">TRANSFER QTY</th>
              <th class="pr-th">DISTANCE (KM)</th>
              <th class="pr-th">ETA (DAYS)</th>
              <th class="pr-th">RECOMMENDATION</th>
              <th class="pr-th">PRIORITY</th>
            </tr>
          </thead>
          <tbody id="logi-redist-tbody"></tbody>
        </table>
      </div>
      <div style="margin-top:12px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;">
        ‚ö° SIMULATED AI OPTIMIZATION ¬∑ API: /api/v1/logistics ¬∑ Model: IDC-LogOpt-v1 ¬∑ Last Sync: <span id="logi-sync-time" style="color:var(--teal);"></span>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FEATURE: NIYAMA MITRA ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="fp-niyama" class="feature-page">
  <div class="feature-page-inner">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="fp-header">
      <div class="fp-icon">‚öñÔ∏è</div>
      <div>
        <div class="fp-title">NIYAMA MITRA</div>
        <div class="fp-subtitle">// OPERATION LEGAL COMPLIANCE ANALYSIS ‚Äî NLP + LAW ENGINE v1.4 ‚Äî BETA</div>
      </div>
    </div>

    <div style="display:grid;grid-template-columns:1fr 1fr;gap:24px;margin-bottom:28px;">
      <!-- LEFT: UPLOAD -->
      <div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:3px;margin-bottom:10px;">STEP 01 // UPLOAD OPERATION PLAN</div>
        <div id="nm-dropzone" onclick="document.getElementById('nm-file-input').click()"
          style="border:2px dashed rgba(200,168,75,0.3);background:rgba(10,30,46,0.5);padding:36px 20px;text-align:center;cursor:pointer;transition:all 0.3s;"
          ondragover="event.preventDefault();this.style.borderColor='var(--gold)'"
          ondragleave="this.style.borderColor='rgba(200,168,75,0.3)'"
          ondrop="nmHandleDrop(event)">
          <input type="file" id="nm-file-input" style="display:none;" accept="*/*" onchange="nmHandleFile(this.files[0])">
          <div style="font-size:32px;margin-bottom:10px;">üìú</div>
          <div style="font-family:'Orbitron',monospace;font-size:11px;color:var(--gold);letter-spacing:2px;margin-bottom:6px;">UPLOAD OPERATION PLAN</div>
          <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);">PDF ¬∑ DOCX ¬∑ TXT ¬∑ JPG ¬∑ PNG</div>
          <div id="nm-file-name" style="margin-top:12px;font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--teal);display:none;"></div>
        </div>
        <div style="display:flex;gap:10px;margin-top:12px;">
          <button onclick="nmAnalyze()" 
            style="flex:1;padding:13px;background:var(--gold);color:var(--bg-dark);border:none;font-family:'Orbitron',monospace;font-size:11px;font-weight:700;letter-spacing:3px;cursor:pointer;clip-path:polygon(6px 0,100% 0,calc(100% - 6px) 100%,0 100%);transition:all 0.25s;">
            ‚öñ ANALYZE COMPLIANCE
          </button>
          <button onclick="nmClear()"
            style="padding:13px 18px;background:transparent;color:var(--muted);border:1px solid var(--border);font-family:'Share Tech Mono',monospace;font-size:11px;cursor:pointer;">CLEAR</button>
        </div>
        <div id="nm-processing" style="display:none;margin-top:14px;background:rgba(200,168,75,0.04);border:1px solid rgba(200,168,75,0.15);padding:14px 16px;">
          <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--teal);letter-spacing:2px;margin-bottom:8px;" id="nm-proc-label">‚öô JURISDICTION DETECTION ENGINE RUNNING...</div>
          <div style="background:rgba(0,0,0,0.4);height:5px;border-radius:2px;overflow:hidden;">
            <div id="nm-proc-bar" style="height:100%;width:0%;background:linear-gradient(90deg,var(--gold),var(--teal));transition:width 0.3s;"></div>
          </div>
        </div>
      </div>

      <!-- RIGHT: SAMPLE + INFO -->
      <div>
        <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:3px;margin-bottom:10px;">STEP 01 (ALT) // LOAD SAMPLE PLAN</div>
        <div style="display:flex;flex-direction:column;gap:8px;margin-bottom:16px;">
          <button onclick="nmLoadSample(0)" class="rs-sample-btn">üìú OP_NORTHERN_STRIKE_PLAN_2026.pdf</button>
          <button onclick="nmLoadSample(1)" class="rs-sample-btn">üìú OP_MARITIME_INTERCEPT_PLAN.docx</button>
          <button onclick="nmLoadSample(2)" class="rs-sample-btn">üìú OP_CYBER_INFRASTRUCTURE_ATTACK.txt</button>
          <button onclick="nmLoadSample(3)" class="rs-sample-btn">üìú OP_COASTAL_SURVEILLANCE_PLAN.pdf</button>
          <button onclick="nmLoadSample(4)" class="rs-sample-btn">üìú OP_PEACEKEEPING_DEPLOYMENT.docx</button>
        </div>
        <div style="background:rgba(10,30,46,0.5);border:1px solid var(--border);padding:16px;">
          <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;margin-bottom:10px;">LAW FRAMEWORKS ACTIVE</div>
          <div style="display:flex;flex-direction:column;gap:6px;font-family:'Share Tech Mono',monospace;font-size:11px;color:#7aaabb;">
            <div>üìã LOAC ‚Äî Law of Armed Conflict</div>
            <div>üìã Geneva Conventions I‚ÄìIV</div>
            <div>üìã UN Charter (Art. 2.4, Art. 51)</div>
            <div>üìã National Defence Act 2006</div>
            <div>üìã Bilateral Treaties Database</div>
            <div>üìã IHL Customary Law (ICRC)</div>
          </div>
        </div>
      </div>
    </div>

    <!-- OUTPUT AREA -->
    <div id="nm-output" style="display:none;">
      <!-- COMPLIANT RESULT -->
      <div id="nm-compliant" style="display:none;background:rgba(0,212,170,0.05);border:1px solid rgba(0,212,170,0.3);border-left:5px solid var(--teal);padding:28px 28px;">
        <div style="position:relative;">
          <div style="display:flex;align-items:center;gap:16px;margin-bottom:20px;">
            <div style="font-size:40px;">‚úÖ</div>
            <div>
              <div style="font-family:'Orbitron',monospace;font-size:18px;font-weight:700;color:var(--teal);letter-spacing:3px;">OPERATION LEGALLY COMPLIANT</div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--muted);letter-spacing:2px;margin-top:6px;">Safe to proceed ¬∑ No violations detected ¬∑ Compliance Score: <span id="nm-comp-score" style="color:var(--teal);"></span>/100</div>
            </div>
          </div>
          <div style="display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:12px;">
            <div style="background:rgba(0,0,0,0.3);border:1px solid rgba(0,212,170,0.2);padding:14px;text-align:center;">
              <div style="font-family:'Orbitron',monospace;font-size:22px;color:var(--teal);">‚úì</div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);margin-top:4px;">LOAC COMPLIANT</div>
            </div>
            <div style="background:rgba(0,0,0,0.3);border:1px solid rgba(0,212,170,0.2);padding:14px;text-align:center;">
              <div style="font-family:'Orbitron',monospace;font-size:22px;color:var(--teal);">‚úì</div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);margin-top:4px;">SOVEREIGNTY OK</div>
            </div>
            <div style="background:rgba(0,0,0,0.3);border:1px solid rgba(0,212,170,0.2);padding:14px;text-align:center;">
              <div style="font-family:'Orbitron',monospace;font-size:22px;color:var(--teal);">‚úì</div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);margin-top:4px;">CIVILIAN SAFE</div>
            </div>
          </div>
        </div>
      </div>

      <!-- VIOLATION RESULT -->
      <div id="nm-violations" style="display:none;">
        <!-- HEADER SUMMARY -->
        <div style="background:rgba(255,59,59,0.06);border:1px solid rgba(255,59,59,0.25);border-left:5px solid #ff3b3b;padding:20px 24px;margin-bottom:20px;">
          <div style="display:flex;align-items:center;gap:16px;flex-wrap:wrap;">
            <div style="font-size:32px;">‚ö†Ô∏è</div>
            <div style="flex:1;">
              <div style="font-family:'Orbitron',monospace;font-size:16px;font-weight:700;color:#ff6b6b;letter-spacing:3px;">LEGAL VIOLATIONS DETECTED</div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--muted);margin-top:4px;">Requires legal review before execution ¬∑ <span id="nm-viol-count" style="color:#ff6b6b;"></span> violations identified</div>
            </div>
            <div style="text-align:center;background:rgba(255,59,59,0.1);border:1px solid rgba(255,59,59,0.3);padding:12px 20px;">
              <div style="font-family:'Orbitron',monospace;font-size:24px;font-weight:900;color:#ff3b3b;" id="nm-risk-score"></div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--muted);">RISK SCORE /100</div>
            </div>
            <div style="text-align:center;background:rgba(255,59,59,0.1);border:1px solid rgba(255,59,59,0.3);padding:12px 20px;">
              <div style="font-family:'Orbitron',monospace;font-size:14px;font-weight:900;" id="nm-verdict"></div>
              <div style="font-family:'Share Tech Mono',monospace;font-size:9px;color:var(--muted);">VERDICT</div>
            </div>
          </div>
        </div>

        <!-- VIOLATIONS TABLE -->
        <div style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:3px;margin-bottom:12px;">IDENTIFIED LEGAL VIOLATIONS</div>
        <div id="nm-viol-cards"></div>

        <!-- RECOMMENDATIONS -->
        <div style="margin-top:20px;background:rgba(255,193,7,0.04);border:1px solid rgba(255,193,7,0.2);padding:20px 24px;">
          <div style="font-family:'Orbitron',monospace;font-size:12px;color:#ffc107;letter-spacing:3px;margin-bottom:14px;">üìã LEGAL RECOMMENDATIONS</div>
          <div id="nm-recommendations" style="display:flex;flex-direction:column;gap:8px;"></div>
        </div>
      </div>

      <div style="margin-top:14px;font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);letter-spacing:2px;">
        ‚ö° SIMULATED NLP ANALYSIS ¬∑ API: /api/v1/niyama/analyze ¬∑ Law DB v2026.02 ¬∑ <span id="nm-timestamp" style="color:var(--teal);"></span>
      </div>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê FEATURE: ABOUT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div id="fp-about" class="feature-page">
  <div class="feature-page-inner">
    <button class="wing-detail-back" onclick="showPage('home')">‚Üê BACK TO HOME</button>
    <div class="fp-header">
      <div class="fp-icon">‚ÑπÔ∏è</div>
      <div>
        <div class="fp-title">ABOUT DEFENCE WINGS</div>
        <div class="fp-subtitle">// STRUCTURE, RANKS, STATISTICS ‚Äî INDIAN ARMED FORCES</div>
      </div>
    </div>
    <div class="fp-grid" style="grid-template-columns:1fr 1fr 1fr;">
      <div class="fp-card" style="cursor:pointer;" onclick="showPage('wing-army')"><h4>ü™ñ INDIAN ARMY</h4><p>Land-based primary combat force. 12L+ personnel, 53 divisions, 6 commands. Click to view full details.</p></div>
      <div class="fp-card" style="cursor:pointer;" onclick="showPage('wing-navy')"><h4>‚öì INDIAN NAVY</h4><p>Maritime security branch. 67,000+ personnel, 150+ vessels, 3 commands. Click to view full details.</p></div>
      <div class="fp-card" style="cursor:pointer;" onclick="showPage('wing-airforce')"><h4>‚úàÔ∏è INDIAN AIR FORCE</h4><p>Aerial warfare branch. 1.4L+ personnel, 1700+ aircraft, 7 commands. Click to view full details.</p></div>
    </div>
    <div class="content-block" style="margin-top:24px;">
      <h3>RANK STATISTICS BY WING</h3>
      <p>Detailed rank-wise headcount data (Generals, Lt. Generals, Major Generals, Colonels, Majors, Captains, JCOs, Other Ranks) will be populated from the Personnel Registry database upon backend integration. Data is classified at Confidential level ‚Äî accessible to authority-tier logins only.</p>
    </div>
  </div>
</div>

<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê JAVASCRIPT ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// ROUTING
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function showPage(pageId) {
  document.getElementById('home').style.display = 'none';
  document.querySelectorAll('.page, .feature-page').forEach(p => p.classList.remove('active'));
  if (pageId === 'home') {
    document.getElementById('home').style.display = 'block';
  } else {
    const el = document.getElementById(pageId);
    if (el) el.classList.add('active');
    if (pageId === 'fp-personnel') prInit();
    if (pageId === 'fp-logistics') logiInit();
  }
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

// ‚îÄ‚îÄ SIDE TRAY ‚îÄ‚îÄ
function toggleTray() {
  document.getElementById('sideTray').classList.toggle('open');
  document.getElementById('trayOverlay').classList.toggle('active');
  document.getElementById('hamburger').classList.toggle('active');
}
function closeTray() {
  document.getElementById('sideTray').classList.remove('open');
  document.getElementById('trayOverlay').classList.remove('active');
  document.getElementById('hamburger').classList.remove('active');
}

// ‚îÄ‚îÄ LOGIN ‚îÄ‚îÄ
function toggleLogin() { document.getElementById('loginOverlay').classList.toggle('active'); }
function setRole(role) {
  document.getElementById('tabAuthority').classList.toggle('active', role === 'authority');
  document.getElementById('tabSoldier').classList.toggle('active', role === 'soldier');
}
const captchaChars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
function generateCaptcha() { let c=''; for(let i=0;i<6;i++) c+=captchaChars[Math.floor(Math.random()*captchaChars.length)]; return c; }
let currentCaptcha = generateCaptcha();
document.getElementById('captchaDisplay').textContent = currentCaptcha;
function refreshCaptcha() { currentCaptcha = generateCaptcha(); document.getElementById('captchaDisplay').textContent = currentCaptcha; document.getElementById('captchaInput').value=''; }
function handleLogin() {
  const sn = document.getElementById('serviceNum').value.trim();
  const pw = document.getElementById('password').value.trim();
  const ci = document.getElementById('captchaInput').value.trim().toUpperCase();
  if (!sn || !pw) { showAlert('Please enter your Service Number and Password.'); return; }
  if (ci !== currentCaptcha) { showAlert('Captcha verification failed. Please try again.'); refreshCaptcha(); return; }
  showAlert('OTP sent to registered contact. Integration with backend /auth endpoint pending.');
}
function showAlert(msg) {
  const warn = document.querySelector('.login-warning');
  const orig = warn.innerHTML;
  warn.innerHTML = `<strong>‚ö† NOTICE:</strong> ${msg}`;
  warn.style.borderColor = 'rgba(200,168,75,0.4)';
  warn.style.color = '#c8a84b';
  setTimeout(() => { warn.innerHTML = orig; warn.style.borderColor=''; warn.style.color=''; }, 3500);
}
document.getElementById('loginOverlay').addEventListener('click', function(e) { if(e.target===this) toggleLogin(); });
function animateCounters() {
  document.querySelectorAll('.stat-number').forEach(el => {
    const text = el.textContent;
    if (text.includes('.') || text.includes('TH')) return;
    el.style.opacity = '0';
    setTimeout(() => { el.style.opacity='1'; el.style.transition='opacity 0.6s'; }, 100);
  });
}
setTimeout(animateCounters, 1000);

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MODULE 1 ‚Äî PERSONNEL REGISTRY
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const PR = {
  data: [], filtered: [], page: 1, perPage: 25, sortCol: null, sortDir: 1, inited: false
};

const PR_NAMES = [
  'Arjun Singh','Vikram Sharma','Rajesh Kumar','Amit Patel','Suresh Nair','Pradeep Reddy','Mohan Verma','Ravi Iyer',
  'Deepak Yadav','Sanjay Gupta','Kapil Dev','Mahesh Babu','Rohit Tiwari','Arun Mishra','Vinod Chauhan','Sunil Rao',
  'Prakash Joshi','Naresh Pandey','Dinesh Bhat','Ramesh Pillai','Karan Malhotra','Vivek Tripathi','Ajay Dubey','Nitin Saxena',
  'Gaurav Srivastava','Harish Chandra','Santosh Pal','Brijesh Thakur','Umesh Bhatt','Girish Mehta','Pankaj Aggarwal','Devendra Rathore',
  'Shailesh Negi','Mukesh Rawat','Rakesh Bisht','Anup Sharma','Vijay Pathak','Alok Shukla','Brij Mohan','Suresh Bose',
  'Rajendra Sahu','Ramchandra Patil','Govind Desai','Prashant Kulkarni','Nilesh Jadhav','Abhijit Sawant','Sandip More','Shivaji Gaikwad',
  'Balaji Krishnan','Murali Venkat','Senthil Murugan','Karthik Sundaram','Anand Subramanian','Kannan Rajan','Palani Muthu','Selvam Raja',
  'Mohammed Farooq','Salim Ansari','Imran Khan','Tariq Ahmed','Faisal Qureshi','Irfan Shaikh','Nasir Hussain','Zafar Ali',
  'Gurpreet Singh','Harjinder Kaur','Manpreet Bhatia','Paramjit Dhaliwal','Balwinder Gill','Amarjit Sandhu','Daljit Grewal','Kulwant Sidhu',
  'Bijoy Das','Subhash Dey','Partha Ghosh','Sourav Sarkar','Arnab Banerjee','Debashis Mondal','Tapas Roy','Suman Bose',
  'Lalrinsanga','Malsawma','Zothansanga','Lalhmangaiha','Vanlalruata','Liansanga','Ramsanga','Chhuantea',
  'Temjen Walling','Yanpv√º Yanger','Bendang Jamir','Khekiye Sema','Akum Longkumer','Chubalemla Chang','Vizokhoto Sema','Keneizhakho Tep'
];
const PR_WINGS = ['Indian Army','Indian Army','Indian Army','Indian Navy','Indian Air Force'];
const PR_ARMY_RANKS = ['Sepoy','Lance Naik','Naik','Havildar','Naib Subedar','Subedar','Subedar Major','2nd Lieutenant','Lieutenant','Captain','Major','Lt. Colonel','Colonel','Brigadier','Major General'];
const PR_NAVY_RANKS = ['Seaman','Leading Seaman','Petty Officer','Chief Petty Officer','Warrant Officer','Sub Lieutenant','Lieutenant','Lt. Commander','Commander','Captain','Commodore','Rear Admiral'];
const PR_IAF_RANKS = ['Aircraftman','Leading Aircraftman','Corporal','Sergeant','Warrant Officer','Flight Lieutenant','Squadron Leader','Wing Commander','Group Captain','Air Commodore','Air Vice Marshal'];
const PR_UNITS_ARMY = ['1 PARA SF','4 RAJPUT','8 MARATHA LI','15 PUNJAB','21 GRENADIERS','7 SIKH LI','3 GUARDS','12 LANCERS','19 ARMOURED','6 ENGINEERS','MARCOS ARMY DET','45 CAVALRY','Delta Force 9'];
const PR_UNITS_NAVY = ['INS Vikrant','INS Arihant','INS Chennai','INS Kolkata','INS Vikramaditya','INS Talwar','INS Shivalik','INS Chakra','MARCOS 1','Naval Air Sqn 310','Survey Vessel Darshak'];
const PR_UNITS_IAF = ['No. 17 Sqn Golden Arrows','No. 7 Sqn Battle Axes','No. 45 Sqn Flying Daggers','No. 101 Sqn Falcons','No. 2 Sqn Winged Arrows','No. 28 Sqn First Supersonics','ATC Palam','MiG-29K Sqn','Rafale TU/Ambala','Tejas Sqn Sulur'];
const PR_LOCATIONS = ['Pathankot','Udhampur','Leh','Jaisalmer','Jodhpur','Ambala','Pune','Mumbai','Vizag','Kochi','Port Blair','Guwahati','Jorhat','Bagdogra','Jammu','Chandigarh','New Delhi','Agra','Allahabad','Coimbatore','Sulur','Hindon','Kalaikunda','Siliguri','Bikaner'];
const PR_MISSIONS = ['MISSION ALFA','MISSION BRAVO','MISSION CHARLIE','MISSION DELTA','MISSION ECHO','MISSION FOXTROT','MISSION GOLF','MISSION HOTEL','MISSION INDIA','MISSION JULIET','MISSION KILO','MISSION LIMA'];
const PR_CLEARANCE = ['Confidential','Secret','Top Secret','Restricted'];
const PR_DEPLOYMENTS = ['Active','Active','Active','Reserve','Training'];

function prSeed() {
  if (PR.inited) return;
  PR.inited = true;
  const rng = (a,b) => Math.floor(Math.random()*(b-a+1))+a;
  for (let i = 1; i <= 1000; i++) {
    const wing = PR_WINGS[rng(0,4)];
    const ranks = wing==='Indian Army'?PR_ARMY_RANKS:wing==='Indian Navy'?PR_NAVY_RANKS:PR_IAF_RANKS;
    const units  = wing==='Indian Army'?PR_UNITS_ARMY:wing==='Indian Navy'?PR_UNITS_NAVY:PR_UNITS_IAF;
    const risk   = ['Low','Low','Low','Medium','Medium','High'][rng(0,5)];
    const status = PR_DEPLOYMENTS[rng(0,4)];
    const perf   = (Math.random()*4+6).toFixed(1);
    PR.data.push({
      id: 'IDC-'+String(i).padStart(5,'0'),
      name: PR_NAMES[rng(0,PR_NAMES.length-1)] + (i>PR_NAMES.length ? ' '+String.fromCharCode(65+rng(0,7)) : ''),
      wing, rank: ranks[rng(0,ranks.length-1)],
      unit: units[rng(0,units.length-1)],
      location: PR_LOCATIONS[rng(0,PR_LOCATIONS.length-1)],
      status, clearance: PR_CLEARANCE[rng(0,3)],
      mission: PR_MISSIONS[rng(0,PR_MISSIONS.length-1)],
      perf: parseFloat(perf), risk
    });
  }
  PR.filtered = [...PR.data];
}

function prInit() {
  prSeed();
  prUpdateCounts();
  prRender();
}

function prApplyFilters() {
  const q = document.getElementById('pr-search').value.toLowerCase();
  const wf = document.getElementById('pr-wing-filter').value;
  const rf = document.getElementById('pr-risk-filter').value;
  const sf = document.getElementById('pr-status-filter').value;
  PR.filtered = PR.data.filter(r => {
    const matchQ = !q || r.id.toLowerCase().includes(q)||r.name.toLowerCase().includes(q)||r.wing.toLowerCase().includes(q)||r.rank.toLowerCase().includes(q)||r.unit.toLowerCase().includes(q);
    const matchW = !wf || r.wing===wf;
    const matchR = !rf || r.risk===rf;
    const matchS = !sf || r.status===sf;
    return matchQ&&matchW&&matchR&&matchS;
  });
  if (PR.sortCol) prSort(PR.sortCol, true);
  PR.page = 1;
  prUpdateCounts();
  prRender();
}

function prSort(col, noToggle) {
  if (!noToggle) { PR.sortDir = PR.sortCol===col ? -PR.sortDir : 1; PR.sortCol=col; }
  const map = {id:'id',name:'name',wing:'wing',rank:'rank',status:'status',perf:'perf',risk:'risk'};
  const key = map[col];
  PR.filtered.sort((a,b)=>{
    let av=a[key], bv=b[key];
    if(col==='perf') return (av-bv)*PR.sortDir;
    if(col==='risk') { const o={Low:1,Medium:2,High:3}; return (o[av]-o[bv])*PR.sortDir; }
    return String(av).localeCompare(String(bv))*PR.sortDir;
  });
  prRender();
}

function prChangePerPage() { PR.perPage = parseInt(document.getElementById('pr-per-page').value); PR.page=1; prRender(); }

function prUpdateCounts() {
  const all = PR.filtered;
  document.getElementById('pr-filtered-count').textContent = all.length;
  document.getElementById('pr-low-count').textContent = all.filter(r=>r.risk==='Low').length;
  document.getElementById('pr-med-count').textContent = all.filter(r=>r.risk==='Medium').length;
  document.getElementById('pr-high-count').textContent = all.filter(r=>r.risk==='High').length;
}

function prRender() {
  const start = (PR.page-1)*PR.perPage;
  const slice = PR.filtered.slice(start, start+PR.perPage);
  const tbody = document.getElementById('pr-tbody');
  const wingBadge = w => w==='Indian Army'?'badge-army':w==='Indian Navy'?'badge-navy':'badge-iaf';
  const shortWing = w => w==='Indian Army'?'ARMY':w==='Indian Navy'?'NAVY':'IAF';
  const statusBadge = s => s==='Active'?'badge-active':s==='Reserve'?'badge-reserve':'badge-training';
  const riskBadge = r => r==='Low'?'badge-low':r==='Medium'?'badge-medium':'badge-high';
  const perfColor = p => p>=8.5?'color:#00d4aa':p>=7?'color:var(--gold)':'color:#ff6b6b';
  tbody.innerHTML = slice.map(r => `
    <tr class="pr-row">
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--teal);">${r.id}</td>
      <td class="pr-td" style="color:var(--white);font-weight:600;">${r.name}</td>
      <td class="pr-td"><span class="badge ${wingBadge(r.wing)}">${shortWing(r.wing)}</span></td>
      <td class="pr-td" style="font-size:12px;">${r.rank}</td>
      <td class="pr-td" style="font-size:11px;color:#7aaabb;">${r.unit}</td>
      <td class="pr-td" style="font-size:11px;">${r.location}</td>
      <td class="pr-td"><span class="badge ${statusBadge(r.status)}">${r.status.toUpperCase()}</span></td>
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--muted);">${r.clearance}</td>
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:10px;color:rgba(200,168,75,0.7);">${r.mission}</td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;font-size:13px;font-weight:700;${perfColor(r.perf)}">${r.perf}</td>
      <td class="pr-td"><span class="badge ${riskBadge(r.risk)}">${r.risk.toUpperCase()}</span></td>
    </tr>`).join('');

  // Pagination
  const total = PR.filtered.length;
  const pages = Math.ceil(total/PR.perPage);
  document.getElementById('pr-page-info').textContent = `${start+1}‚Äì${Math.min(start+PR.perPage,total)} of ${total}`;
  const pg = document.getElementById('pr-pagination');
  let html = `<button class="pr-pg-btn" onclick="prGoto(${Math.max(1,PR.page-1)})">‚Äπ</button>`;
  let s=Math.max(1,PR.page-2), e=Math.min(pages,s+4);
  if(s>1) html+=`<button class="pr-pg-btn" onclick="prGoto(1)">1</button><span style="color:var(--muted);padding:0 4px;font-size:12px;">‚Ä¶</span>`;
  for(let p=s;p<=e;p++) html+=`<button class="pr-pg-btn${p===PR.page?' active':''}" onclick="prGoto(${p})">${p}</button>`;
  if(e<pages) html+=`<span style="color:var(--muted);padding:0 4px;font-size:12px;">‚Ä¶</span><button class="pr-pg-btn" onclick="prGoto(${pages})">${pages}</button>`;
  html+=`<button class="pr-pg-btn" onclick="prGoto(${Math.min(pages,PR.page+1)})">‚Ä∫</button>`;
  pg.innerHTML = html;
}

function prGoto(p) { PR.page=p; prRender(); document.getElementById('fp-personnel').scrollTop=0; }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MODULE 2 ‚Äî REPORT SUMMARISATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let rsCurrentFile = null;
const RS_SAMPLES = [
  { name:'OP_VIJAY_SIACHEN_MEMO.pdf', title:'OPERATION VIJAY ‚Äî SIACHEN SECTOR', ref:'IDC/OPS/2026/0047', priority:'CRITICAL', risk:'HIGH', status:'ACTIVE',
    objective:'<ul class="rs-section-body"><li>Neutralize forward enemy positions at Grid Ref NJ-9842, Siachen Glacier</li><li>Secure heights at Bilafond La and Sia La passes</li><li>Establish fire superiority across 110 km frontage</li><li>Enable helicopter resupply to advance posts above 19,000 ft</li></ul>',
    actions:'<ul class="rs-section-body"><li>Alpha Coy deployed to ridge line, 0300 hrs D-Day</li><li>Artillery barrage commenced, 72 rounds expended</li><li>Air support (Mi-17) provided extract for 2 wounded personnel</li><li>Communication relay established at Base Camp Zulu</li></ul>',
    risks:'<ul class="rs-section-body" style="color:#ff8888;"><li>Avalanche risk EXTREME ‚Äî meteorological window 48 hrs</li><li>3 personnel reporting acute altitude sickness (HAPO risk)</li><li>Supply chain disrupted ‚Äî 72-hr backlog on ammunition</li><li>Enemy movement detected at Gyong La sector (SIGINT)</li></ul>',
    opstatus:'<ul class="rs-section-body"><li>Phase 1 COMPLETE ‚Äî forward positions secured</li><li>Phase 2 IN PROGRESS ‚Äî consolidation ongoing</li><li>Casualties: 1 KIA, 3 WIA (evacuated)</li><li>Next review: 0600 hrs D+2</li></ul>', conf:91, kw:34 },
  { name:'OP_NORTHERN_LOGISTICS_BRIEF.docx', title:'NORTHERN COMMAND LOGISTICS BRIEF', ref:'IDC/LOG/2026/0118', priority:'HIGH', risk:'MEDIUM', status:'ONGOING',
    objective:'<ul class="rs-section-body"><li>Ensure uninterrupted supply chain to 14 Corps forward elements</li><li>Pre-position 30-day war wastage reserves at identified locations</li><li>Activate alternate road corridor via Manali-Leh axis</li></ul>',
    actions:'<ul class="rs-section-body"><li>12 convoys dispatched from Pathankot ‚Äî 8 arrived, 4 en route</li><li>Ammunition pre-positioning at Nyoma and Daulat Beg Oldi completed</li><li>Medical supplies airlift scheduled for Siachen Base Camp</li><li>Fuel depot at Leh replenished to 85% capacity</li></ul>',
    risks:'<ul class="rs-section-body" style="color:#ff8888;"><li>Zoji La pass closure expected (snowfall forecast)</li><li>Bridge load classification issue at Drass</li><li>Fuel consumption rate 40% above estimate due to vehicle operations</li></ul>',
    opstatus:'<ul class="rs-section-body"><li>Overall logistics readiness: 78%</li><li>Critical shortage: Ration packs (3-day gap)</li><li>Bottleneck identified: Rohtang Tunnel capacity</li></ul>', conf:85, kw:28 },
  { name:'OP_MARITIME_PATROL_REPORT.txt', title:'MARITIME PATROL ‚Äî BAY OF BENGAL SECTOR', ref:'IDC/NAV/2026/0302', priority:'MEDIUM', risk:'LOW', status:'COMPLETED',
    objective:'<ul class="rs-section-body"><li>Conduct EEZ patrol of Andaman-Nicobar maritime boundary</li><li>Intercept and identify vessels of interest matching WARSHIPS profile</li><li>Conduct HADR assessment for Andaman Sea fishing communities</li></ul>',
    actions:'<ul class="rs-section-body"><li>INS Chennai conducted 72-hr patrol, 1,200 nautical miles covered</li><li>3 vessels intercepted, boarded, cleared</li><li>1 vessel flagged for further investigation ‚Äî passed to COASTGUARD</li><li>P-8I maritime patrol aircraft logged 14 flight hours</li></ul>',
    risks:'<ul class="rs-section-body" style="color:#ff8888;"><li>AIS spoofing detected on 2 fishing vessels</li><li>Cyclone formation watch in Bay ‚Äî 72-hr advisory</li></ul>',
    opstatus:'<ul class="rs-section-body"><li>Operation COMPLETED successfully</li><li>No hostile contact</li><li>Intelligence passed to Western Naval Command</li></ul>', conf:94, kw:22 },
  { name:'OP_AERIAL_STRIKE_ASSESSMENT.pdf', title:'AERIAL STRIKE BATTLE DAMAGE ASSESSMENT', ref:'IDC/IAF/2026/0089', priority:'CRITICAL', risk:'HIGH', status:'CLASSIFIED',
    objective:'<ul class="rs-section-body"><li>Conduct BDA of Strike Package ROMEO executed 14 Feb 2026</li><li>Assess destruction of 4 designated target sets</li><li>Evaluate collateral damage risk to civilian infrastructure</li></ul>',
    actions:'<ul class="rs-section-body"><li>No.17 Sqn Rafale executed 4 sorties ‚Äî all weapon release confirmed</li><li>SIGINT indicates target Alpha neutralized (90% confidence)</li><li>Target Bravo partially damaged ‚Äî re-strike recommended</li><li>ISR drone BDA mission logged post-strike</li></ul>',
    risks:'<ul class="rs-section-body" style="color:#ff8888;"><li>Target Charlie ‚Äî civilian proximity risk flagged by LOAC advisor</li><li>Airspace deconfliction gap identified ‚Äî 8-minute window</li><li>SAM radar activity detected ‚Äî threat to re-strike option</li></ul>',
    opstatus:'<ul class="rs-section-body"><li>Mission PARTIALLY SUCCESSFUL</li><li>2 of 4 targets neutralized</li><li>Re-strike planning initiated for Target Bravo</li></ul>', conf:88, kw:41 },
  { name:'OP_CYBER_BREACH_INCIDENT.docx', title:'CYBER BREACH INCIDENT ‚Äî CERT-IN ALERT', ref:'IDC/CYB/2026/0055', priority:'HIGH', risk:'MEDIUM', status:'UNDER INVESTIGATION',
    objective:'<ul class="rs-section-body"><li>Investigate unauthorized access to IDC Personnel Database Cluster</li><li>Contain exfiltration attempt on 14 Feb 2026 at 0247 hrs</li><li>Identify threat actor attribution and entry vector</li></ul>',
    actions:'<ul class="rs-section-body"><li>CERT-In alerted ‚Äî Level 2 incident declared</li><li>Affected systems isolated within 12 minutes of detection</li><li>Forensic team deployed ‚Äî 3 affected workstations seized</li><li>Exfiltration volume: 2.3 MB (Personnel metadata fields)</li></ul>',
    risks:'<ul class="rs-section-body" style="color:#ff8888;"><li>Potential compromise of 47 officer service numbers</li><li>APT actor signature matches known state-actor tools</li><li>Lateral movement attempted to Logistics module</li></ul>',
    opstatus:'<ul class="rs-section-body"><li>Breach CONTAINED ‚Äî systems restored</li><li>Investigation ONGOING</li><li>Passwords reset for 312 affected accounts</li></ul>', conf:79, kw:37 }
];

function rsHandleFile(file) {
  if (!file) return;
  rsCurrentFile = file.name;
  document.getElementById('rs-file-name').textContent = 'üìé '+file.name;
  document.getElementById('rs-file-name').style.display = 'block';
}
function rsHandleDrop(e) { e.preventDefault(); document.getElementById('rs-dropzone').style.borderColor='rgba(200,168,75,0.3)'; const f=e.dataTransfer.files[0]; if(f) rsHandleFile(f); }
function rsClear() { rsCurrentFile=null; document.getElementById('rs-file-name').style.display='none'; document.getElementById('rs-file-name').textContent=''; document.getElementById('rs-file-input').value=''; document.getElementById('rs-output').style.display='none'; }
function rsLoadSample(i) { rsCurrentFile = RS_SAMPLES[i].name; document.getElementById('rs-file-name').textContent='üìé '+rsCurrentFile; document.getElementById('rs-file-name').style.display='block'; rsSimulate(RS_SAMPLES[i]); }

function rsAnalyze() {
  if (!rsCurrentFile) { document.getElementById('rs-dropzone').style.borderColor='var(--gold)'; setTimeout(()=>document.getElementById('rs-dropzone').style.borderColor='rgba(200,168,75,0.3)',1200); return; }
  const sample = RS_SAMPLES.find(s=>s.name===rsCurrentFile) || RS_SAMPLES[Math.floor(Math.random()*RS_SAMPLES.length)];
  rsSimulate(sample);
}

function rsSimulate(data) {
  const proc = document.getElementById('rs-processing');
  const bar = document.getElementById('rs-progress-bar');
  const lbl = document.getElementById('rs-progress-label');
  const steps = ['Tokenizing document...','Extracting entities...','Running NLP pipeline...','Detecting risk signals...','Generating summary...','Finalizing output...'];
  proc.style.display='block'; document.getElementById('rs-output').style.display='none';
  let pct=0, step=0;
  const iv = setInterval(()=>{
    pct = Math.min(100, pct + Math.random()*18+4);
    bar.style.width = pct+'%';
    if(step<steps.length-1 && pct>step*17) { lbl.textContent=steps[step]; step++; }
    if(pct>=100) {
      clearInterval(iv); lbl.textContent='‚úì Analysis complete';
      setTimeout(()=>{ proc.style.display='none'; rsRenderOutput(data); }, 400);
    }
  }, 180);
}

function rsRenderOutput(d) {
  const pColor = d.priority==='CRITICAL'?'#ff3b3b':d.priority==='HIGH'?'#ffc107':d.priority==='MEDIUM'?'var(--teal)':'var(--gold)';
  const rColor = d.risk==='HIGH'?'#ff3b3b':d.risk==='MEDIUM'?'#ffc107':'var(--teal)';
  document.getElementById('rs-memo-title').textContent = d.title;
  document.getElementById('rs-memo-ref').textContent = 'REF: '+d.ref+' ¬∑ GENERATED: '+new Date().toLocaleString('en-IN');
  document.getElementById('rs-priority-badge').textContent = d.priority;
  document.getElementById('rs-priority-badge').style.color = pColor;
  document.getElementById('rs-risk-badge').textContent = d.risk;
  document.getElementById('rs-risk-badge').style.color = rColor;
  document.getElementById('rs-status-badge').textContent = d.status;
  document.getElementById('rs-timestamp').textContent = new Date().toLocaleTimeString('en-IN');
  document.getElementById('rs-objective-body').innerHTML = d.objective;
  document.getElementById('rs-actions-body').innerHTML = d.actions;
  document.getElementById('rs-risks-body').innerHTML = d.risks;
  document.getElementById('rs-opstatus-body').innerHTML = d.opstatus;
  document.getElementById('rs-confidence-bar').style.width = d.conf+'%';
  document.getElementById('rs-confidence-val').textContent = d.conf+'%';
  document.getElementById('rs-kw-count').textContent = d.kw;
  document.getElementById('rs-output').style.display='block';
}
function rsExport() { alert('Export to PDF ‚Äî API endpoint /api/v1/report/export (Backend integration pending)'); }

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MODULE 3 ‚Äî THREAT DETECTION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function tiDetect() {
  const btn = document.getElementById('ti-detect-btn');
  const proc = document.getElementById('ti-processing');
  const bar = document.getElementById('ti-proc-bar');
  const lbl = document.getElementById('ti-proc-label');
  const steps = ['INITIALIZING CDR ANALYSIS ENGINE...','BUILDING COMMUNICATION GRAPH...','RUNNING COMMUNITY DETECTION...','ANOMALY SCORING (ML MODEL)...','CROSS-REFERENCING WATCHLIST...','COMPILING THREAT REPORT...'];
  btn.textContent='‚è≥ ANALYZING...'; btn.disabled=true;
  proc.style.display='block'; document.getElementById('ti-results').style.display='none'; document.getElementById('ti-stats').style.display='none';
  let pct=0, step=0;
  const iv = setInterval(()=>{
    pct=Math.min(100,pct+Math.random()*15+5);
    bar.style.width=pct+'%';
    if(step<steps.length-1&&pct>step*17) { lbl.textContent=steps[step]; step++; }
    if(pct>=100) {
      clearInterval(iv);
      setTimeout(()=>{ proc.style.display='none'; tiRenderResults(); btn.textContent='‚ö° DETECT THREAT PATTERNS'; btn.disabled=false; }, 300);
    }
  }, 200);
}

function tiRenderResults() {
  const rng=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;
  const masked = n => '+91-'+n.substring(0,5)+'XXXXX';
  const records = [];
  const count = rng(14,22);
  for(let i=0;i<count;i++){
    const score = (Math.random()*4+5.5).toFixed(2);
    const level = score>=8.5?'High':score>=7?'Medium':'Low';
    records.push({
      caller: masked(String(rng(7000000000,9999999999))),
      receiver: masked(String(rng(7000000000,9999999999))),
      freq: rng(8,62),
      nightFlag: Math.random()>0.4?'YES':'NO',
      multiSim: Math.random()>0.5?'YES':'NO',
      deviceChange: rng(0,8),
      burstPattern: Math.random()>0.4?'DETECTED':'NONE',
      score: parseFloat(score), level
    });
  }
  records.sort((a,b)=>b.score-a.score);

  const scanned = rng(14000,22000);
  const anomalies = count;
  const high = records.filter(r=>r.level==='High').length;
  const nodes = rng(200,500);

  document.getElementById('ti-s1').textContent = scanned.toLocaleString();
  document.getElementById('ti-s2').textContent = anomalies;
  document.getElementById('ti-s3').textContent = high;
  document.getElementById('ti-s4').textContent = nodes;
  document.getElementById('ti-stats').style.display='grid';

  document.getElementById('ti-result-count').textContent = count;
  document.getElementById('ti-r-high').textContent = high;
  document.getElementById('ti-r-med').textContent = records.filter(r=>r.level==='Medium').length;
  document.getElementById('ti-r-low').textContent = records.filter(r=>r.level==='Low').length;

  const nlvl = l => l==='High'?'badge badge-high':l==='Medium'?'badge badge-medium':'badge badge-low';
  const nflag = v => v==='YES'?'<span style="color:#ff6b6b;font-weight:700;">YES</span>':'<span style="color:var(--muted);">NO</span>';
  const nburst = v => v==='DETECTED'?'<span style="color:#ff6b6b;">‚ö° DETECTED</span>':'<span style="color:var(--muted);">NONE</span>';
  const scoreColor = s => s>=8.5?'color:#ff3b3b':s>=7?'color:#ffc107':'color:var(--teal)';

  document.getElementById('ti-tbody').innerHTML = records.map(r=>`
    <tr class="pr-row">
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--teal);">${r.caller}</td>
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:11px;color:#7aaabb;">${r.receiver}</td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;font-size:13px;font-weight:700;color:var(--gold);">${r.freq}/day</td>
      <td class="pr-td">${nflag(r.nightFlag)}</td>
      <td class="pr-td">${nflag(r.multiSim)}</td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;${r.deviceChange>=5?'color:#ff6b6b':r.deviceChange>=3?'color:#ffc107':'color:var(--teal)'};">${r.deviceChange}</td>
      <td class="pr-td">${nburst(r.burstPattern)}</td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;font-size:14px;font-weight:900;${scoreColor(r.score)}">${r.score}</td>
      <td class="pr-td"><span class="${nlvl(r.level)}">${r.level.toUpperCase()}</span></td>
    </tr>`).join('');

  document.getElementById('ti-results').style.display='block';
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MODULE 4 ‚Äî LOGISTICS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const LOGI_BASES = ['Base Alpha ‚Äî Jammu','Base Bravo ‚Äî Leh','Base Charlie ‚Äî Pathankot','Base Delta ‚Äî Jaisalmer','Base Echo ‚Äî Pune','Base Foxtrot ‚Äî Vizag','Base Golf ‚Äî Kochi','Base Hotel ‚Äî Jorhat','Base India ‚Äî Port Blair','Base Juliet ‚Äî Bikaner','Base Kilo ‚Äî Ambala','Base Lima ‚Äî Chandigarh'];
const SUPPLY_TYPES = ['Fuel','Ammunition','Medical Kits','Food Rations','Spare Parts','Communication Equip'];
const TRANSPORT_STATUS = ['In Transit','Delayed','Delivered','Loading','Awaiting Clearance'];

function logiInit() {
  document.getElementById('logi-sync-time').textContent = new Date().toLocaleString('en-IN');
  logiRenderDelays();
  logiRenderDistribution();
  logiRenderRedist();
}

function logiRenderDelays() {
  const rng=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;
  const rows=[];
  for(let i=0;i<14;i++){
    const delay=rng(0,18);
    const sev=delay===0?0:delay<=2?20:delay<=5?45:delay<=10?70:90;
    const from=LOGI_BASES[rng(0,LOGI_BASES.length-1)];
    let to; do{to=LOGI_BASES[rng(0,LOGI_BASES.length-1)];}while(to===from);
    const disp = new Date(Date.now()-rng(1,20)*86400000);
    const exp  = new Date(disp.getTime()+rng(3,12)*86400000);
    rows.push({from,to,supply:SUPPLY_TYPES[rng(0,5)],dispatch:disp.toLocaleDateString('en-IN'),expected:exp.toLocaleDateString('en-IN'),delay,transport:TRANSPORT_STATUS[rng(0,4)],sev});
  }
  rows.sort((a,b)=>b.sev-a.sev);

  const sevColor=s=>s>=70?'#ff3b3b':s>=40?'#ffc107':'var(--teal)';
  const tstatColor=t=>t==='Delayed'?'#ff6b6b':t==='Delivered'?'var(--teal)':t==='In Transit'?'#ffc107':'var(--muted)';
  document.getElementById('logi-delay-count').textContent = rows.filter(r=>r.delay>0).length;

  document.getElementById('logi-delay-tbody').innerHTML = rows.map(r=>`
    <tr class="pr-row">
      <td class="pr-td" style="font-size:12px;">${r.from}</td>
      <td class="pr-td" style="font-size:12px;">${r.to}</td>
      <td class="pr-td"><span class="badge badge-reserve">${r.supply}</span></td>
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:11px;">${r.dispatch}</td>
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:11px;">${r.expected}</td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;font-size:14px;font-weight:700;color:${sevColor(r.sev)};">${r.delay} DAYS</td>
      <td class="pr-td" style="font-size:12px;color:${tstatColor(r.transport)};">${r.transport}</td>
      <td class="pr-td">
        <div class="sev-bar">
          <div class="sev-track"><div class="sev-fill" style="width:${r.sev}%;background:${sevColor(r.sev)};"></div></div>
          <span style="font-family:'Orbitron',monospace;font-size:11px;font-weight:700;color:${sevColor(r.sev)};min-width:28px;">${r.sev}</span>
        </div>
      </td>
    </tr>`).join('');
}

function logiRenderDistribution() {
  const rng=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;
  const rows=[];
  for(let i=0;i<16;i++){
    const base=LOGI_BASES[rng(0,LOGI_BASES.length-1)];
    const type=SUPPLY_TYPES[rng(0,5)];
    const req=rng(1000,10000);
    const cur=rng(200,req*1.4);
    const daily=rng(50,400);
    const pct=cur/req;
    const status=pct<0.5?'Critical':pct<0.8?'Warning':'Sufficient';
    const daysLeft=Math.floor(cur/daily);
    rows.push({base,loc:base.split('‚Äî')[1]?.trim()||'N/A',type,cur,req,daily,daysLeft,status});
  }
  rows.sort((a,b)=>a.status==='Critical'?-1:a.status==='Warning'&&b.status!=='Critical'?-1:1);

  const stColor=s=>s==='Critical'?'#ff3b3b':s==='Warning'?'#ffc107':'var(--teal)';
  const stBadge=s=>s==='Critical'?'badge-high':s==='Warning'?'badge-medium':'badge-low';
  let crit=0,warn=0,ok=0;
  rows.forEach(r=>{if(r.status==='Critical')crit++;else if(r.status==='Warning')warn++;else ok++;});
  document.getElementById('logi-dist-crit').textContent=crit;
  document.getElementById('logi-dist-warn').textContent=warn;
  document.getElementById('logi-dist-ok').textContent=ok;
  document.getElementById('logi-k1').textContent=crit;
  document.getElementById('logi-k2').textContent=warn;
  document.getElementById('logi-k3').textContent=ok;

  document.getElementById('logi-dist-tbody').innerHTML = rows.map(r=>`
    <tr class="pr-row">
      <td class="pr-td" style="font-size:12px;color:var(--white);">${r.base.split('‚Äî')[0].trim()}</td>
      <td class="pr-td" style="font-size:11px;color:var(--muted);">${r.loc}</td>
      <td class="pr-td"><span class="badge badge-reserve">${r.type}</span></td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;font-size:13px;color:${stColor(r.status)};">${r.cur.toLocaleString()}</td>
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:12px;">${r.req.toLocaleString()}</td>
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:11px;color:var(--muted);">${r.daily}/day</td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;font-size:13px;font-weight:700;color:${r.daysLeft<7?'#ff3b3b':r.daysLeft<15?'#ffc107':'var(--teal)'};">${r.daysLeft}d</td>
      <td class="pr-td"><span class="badge ${stBadge(r.status)}">${r.status.toUpperCase()}</span></td>
    </tr>`).join('');
}

function logiRenderRedist() {
  const rng=(a,b)=>Math.floor(Math.random()*(b-a+1))+a;
  const rows=[];
  for(let i=0;i<10;i++){
    const shortage=LOGI_BASES[rng(0,LOGI_BASES.length-1)];
    let surplus; do{surplus=LOGI_BASES[rng(0,LOGI_BASES.length-1)];}while(surplus===shortage);
    const type=SUPPLY_TYPES[rng(0,5)];
    const qty=rng(500,5000);
    const dist=rng(150,1800);
    const eta=Math.ceil(dist/400)+1;
    const priority=['CRITICAL','HIGH','MEDIUM'][rng(0,2)];
    rows.push({shortage,surplus,type,qty,dist,eta,priority});
  }
  rows.sort((a,b)=>a.priority==='CRITICAL'?-1:a.priority==='HIGH'&&b.priority!=='CRITICAL'?-1:1);
  const pColor=p=>p==='CRITICAL'?'#ff3b3b':p==='HIGH'?'#ffc107':'var(--teal)';
  const pBadge=p=>p==='CRITICAL'?'badge-high':p==='HIGH'?'badge-medium':'badge-low';

  document.getElementById('logi-redist-tbody').innerHTML = rows.map(r=>`
    <tr class="pr-row">
      <td class="pr-td" style="font-size:12px;color:#ff8888;">${r.shortage.split('‚Äî')[0].trim()}</td>
      <td class="pr-td" style="font-size:12px;color:var(--teal);">${r.surplus.split('‚Äî')[0].trim()}</td>
      <td class="pr-td"><span class="badge badge-reserve">${r.type}</span></td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;font-size:13px;color:var(--gold);">${r.qty.toLocaleString()} units</td>
      <td class="pr-td" style="font-family:'Share Tech Mono',monospace;font-size:11px;">${r.dist} km</td>
      <td class="pr-td" style="font-family:'Orbitron',monospace;font-size:13px;font-weight:700;">${r.eta} days</td>
      <td class="pr-td" style="font-size:12px;color:#7aaabb;">Immediate transfer via convoy</td>
      <td class="pr-td"><span class="badge ${pBadge(r.priority)}" style="color:${pColor(r.priority)};">${r.priority}</span></td>
    </tr>`).join('');
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// MODULE 5 ‚Äî NIYAMA MITRA
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let nmCurrentFile = null;
const NM_SAMPLES = [
  { name:'OP_NORTHERN_STRIKE_PLAN_2026.pdf', compliant:false, riskScore:82, verdict:'HIGH RISK',
    violations:[
      { title:'Potential Civilian Targeting ‚Äî Geneva Convention IV Breach',article:'Geneva Convention IV, Article 51(4) ‚Äî Indiscriminate Attacks',explanation:'The operation plan specifies strike on Grid Ref 34.7N which overlaps with a civilian populated area within 500 metres. Under Protocol I, attacks that may cause disproportionate civilian casualties relative to military advantage are prohibited.',severity:'CRITICAL',color:'#ff3b3b',badge:'badge-high'},
      { title:'Sovereignty Violation ‚Äî UN Charter Article 2(4)',article:'UN Charter, Article 2(4) ‚Äî Prohibition on Use of Force',explanation:'Cross-border kinetic action proposed without explicit UNSC authorization or Article 51 self-defence invocation. Unilateral offensive operations into sovereign territory constitute a prima facie violation of the UN Charter.',severity:'HIGH',color:'#ff6b6b',badge:'badge-high'},
      { title:'Prohibited Munitions ‚Äî CCW Protocol',article:'CCW Protocol III ‚Äî Incendiary Weapons',explanation:'White phosphorus munitions listed in Annex B of the plan fall under CCW restrictions on incendiary weapons use in areas with civilian concentration.',severity:'MEDIUM',color:'#ffc107',badge:'badge-medium'}
    ],
    recommendations:['Obtain UNSC authorization or invoke Article 51 self-defence with documented imminent threat','Re-route strike vector to avoid civilian proximity zones ‚Äî minimum 2 km buffer required','Replace listed munitions with precision-guided alternatives compliant with CCW Protocol III','Appoint LOAC legal advisor to review Phase 2 kinetic activities before execution']},
  { name:'OP_MARITIME_INTERCEPT_PLAN.docx', compliant:false, riskScore:55, verdict:'REQUIRES REVIEW',
    violations:[
      { title:'Maritime Boundary Ambiguity ‚Äî UNCLOS Article 110',article:'UNCLOS Article 110 ‚Äî Right of Visit',explanation:'The intercept zone extends 4 nautical miles beyond India\'s declared EEZ boundary. Interdiction of vessels in this zone without flag-state consent may violate the high seas freedom of navigation.',severity:'MEDIUM',color:'#ffc107',badge:'badge-medium'},
      { title:'Rules of Engagement Gap ‚Äî LOAC Proportionality',article:'LOAC, Protocol I, Article 57 ‚Äî Precautions in Attack',explanation:'The plan lacks explicit ROE for escalation of force procedures against non-compliant vessels. Absence of proportionality matrix creates legal exposure.',severity:'LOW',color:'var(--teal)',badge:'badge-low'}
    ],
    recommendations:['Define precise intercept coordinates within confirmed EEZ boundaries','Add graduated ROE matrix to Annex C of the plan','Coordinate with Ministry of External Affairs on bilateral notification requirements']},
  { name:'OP_CYBER_INFRASTRUCTURE_ATTACK.txt', compliant:false, riskScore:91, verdict:'CRITICAL VIOLATION',
    violations:[
      { title:'Civilian Infrastructure Attack ‚Äî IHL Article 54',article:'IHL Protocol I, Article 54 ‚Äî Protection of Civilian Infrastructure',explanation:'Targeting of power grid control systems constitutes an attack on civilian infrastructure essential for civilian population survival. This is an absolute prohibition under IHL regardless of dual-use status.',severity:'CRITICAL',color:'#ff3b3b',badge:'badge-high'},
      { title:'Cyber Operation ‚Äî Budapest Norms Violation',article:'Tallinn Manual 2.0, Rule 80 ‚Äî Due Diligence',explanation:'The operation does not include civilian impact assessment for cascading effects. Under the Tallinn Manual, state cyber operations must avoid internationally wrongful acts affecting third-state infrastructure.',severity:'HIGH',color:'#ff6b6b',badge:'badge-high'},
      { title:'Proportionality Failure ‚Äî Anticipated Civilian Harm',article:'LOAC, Protocol I, Article 51(5)(b)',explanation:'The attack plan anticipates civilian service disruption affecting hospitals and water treatment facilities ‚Äî clearly disproportionate to stated military objective.',severity:'CRITICAL',color:'#ff3b3b',badge:'badge-high'}
    ],
    recommendations:['Operation in current form CANNOT proceed ‚Äî refer to JAG for complete plan revision','Remove all civilian infrastructure from target list ‚Äî no exceptions under IHL','Conduct full civilian impact assessment (CIA) before any modified plan is considered','Seek opinion from ICRC legal desk before finalizing any cyber component']},
  { name:'OP_COASTAL_SURVEILLANCE_PLAN.pdf', compliant:true, score:96 },
  { name:'OP_PEACEKEEPING_DEPLOYMENT.docx', compliant:true, score:99 }
];

function nmHandleFile(file) { if(!file)return; nmCurrentFile=file.name; document.getElementById('nm-file-name').textContent='üìé '+file.name; document.getElementById('nm-file-name').style.display='block'; }
function nmHandleDrop(e) { e.preventDefault(); document.getElementById('nm-dropzone').style.borderColor='rgba(200,168,75,0.3)'; const f=e.dataTransfer.files[0]; if(f) nmHandleFile(f); }
function nmClear() { nmCurrentFile=null; document.getElementById('nm-file-name').style.display='none'; document.getElementById('nm-file-name').textContent=''; document.getElementById('nm-file-input').value=''; document.getElementById('nm-output').style.display='none'; }
function nmLoadSample(i) { nmCurrentFile=NM_SAMPLES[i].name; document.getElementById('nm-file-name').textContent='üìé '+nmCurrentFile; document.getElementById('nm-file-name').style.display='block'; nmSimulate(NM_SAMPLES[i]); }

function nmAnalyze() {
  if(!nmCurrentFile){ document.getElementById('nm-dropzone').style.borderColor='var(--gold)'; setTimeout(()=>document.getElementById('nm-dropzone').style.borderColor='rgba(200,168,75,0.3)',1200); return; }
  const sample = NM_SAMPLES.find(s=>s.name===nmCurrentFile) || NM_SAMPLES[Math.floor(Math.random()*NM_SAMPLES.length)];
  nmSimulate(sample);
}

function nmSimulate(data) {
  const proc=document.getElementById('nm-processing'); const bar=document.getElementById('nm-proc-bar'); const lbl=document.getElementById('nm-proc-label');
  const steps=['JURISDICTION DETECTION ENGINE RUNNING...','EXTRACTING ACTION VERBS & TARGET TYPES...','CROSS-REFERENCING LAW DATABASE...','CHECKING BILATERAL TREATIES...','RUNNING VIOLATION DETECTION...','GENERATING COMPLIANCE REPORT...'];
  proc.style.display='block'; document.getElementById('nm-output').style.display='none';
  let pct=0,step=0;
  const iv=setInterval(()=>{
    pct=Math.min(100,pct+Math.random()*16+5); bar.style.width=pct+'%';
    if(step<steps.length-1&&pct>step*17){lbl.textContent=steps[step];step++;}
    if(pct>=100){clearInterval(iv);lbl.textContent='‚úì Compliance analysis complete'; setTimeout(()=>{proc.style.display='none';nmRenderOutput(data);},400);}
  },200);
}

function nmRenderOutput(d) {
  document.getElementById('nm-timestamp').textContent='Analyzed: '+new Date().toLocaleString('en-IN');
  document.getElementById('nm-output').style.display='block';
  if(d.compliant){
    document.getElementById('nm-compliant').style.display='block';
    document.getElementById('nm-violations').style.display='none';
    document.getElementById('nm-comp-score').textContent=d.score;
  } else {
    document.getElementById('nm-compliant').style.display='none';
    document.getElementById('nm-violations').style.display='block';
    document.getElementById('nm-viol-count').textContent=d.violations.length;
    document.getElementById('nm-risk-score').textContent=d.riskScore;
    const vColor=d.riskScore>=80?'#ff3b3b':d.riskScore>=60?'#ffc107':'var(--teal)';
    document.getElementById('nm-risk-score').style.color=vColor;
    document.getElementById('nm-verdict').textContent=d.verdict;
    document.getElementById('nm-verdict').style.color=vColor;

    document.getElementById('nm-viol-cards').innerHTML=d.violations.map(v=>`
      <div class="nm-viol-card" style="border-left-color:${v.color};">
        <div class="nm-viol-title" style="color:${v.color};">${v.title}</div>
        <div class="nm-viol-article">${v.article}</div>
        <div class="nm-viol-explanation">${v.explanation}</div>
        <div class="nm-viol-footer">
          <span class="badge ${v.badge}">SEVERITY: ${v.severity}</span>
          <span style="font-family:'Share Tech Mono',monospace;font-size:10px;color:var(--muted);">Action required before execution</span>
        </div>
      </div>`).join('');

    document.getElementById('nm-recommendations').innerHTML=d.recommendations.map(r=>`
      <div class="nm-rec-item"><span class="nm-rec-icon">‚Üí</span><span>${r}</span></div>`).join('');
  }
}
</script>
</body>
</html>
